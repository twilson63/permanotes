import{w as Xe,S as ne,i as le,s as X,e as f,a,b as _,t as Q,c as be,d as w,n as O,f as ce,g as we,u as at,h as ct,j as ut,k as y,l as ft,m as pt,o as T,p as Se,q as Ce,r as Te,v as dt,x as mt,y as $,z as Le,A as u,B as bt,C as F,_ as _t,D as wt,E as $t,F as je,G as D,H as I,I as j,J as He,K as We,L as ee,M as vt,N as gt,O as kt,P as ht,Q as J,R as Be,T as et,U as tt,V as yt,W as Ct,X as Tt,Y as xt,Z as Nt,$ as nt,a0 as Ie,a1 as lt,a2 as At,a3 as Ne,a4 as St,a5 as Pt,a6 as Re,a7 as Et,a8 as Lt,a9 as ae,aa as Mt}from"./vendor.09370f96.js";const Ht=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}};Ht();const ue=Xe(""),qe=Xe({});function Ue(l){let e,n;return{c(){e=Q("Navigated to "),n=Q(l[0])},m(t,s){_(t,e,s),_(t,n,s)},p(t,s){s&1&&be(n,t[0])},d(t){t&&w(e),t&&w(n)}}}function Ot(l){let e,n=l[0],t=Ue(l);return{c(){e=f("div"),t.c(),a(e,"aria-live","assertive"),a(e,"aria-atomic","true"),a(e,"class","svelte-16o3jxi")},m(s,o){_(s,e,o),t.m(e,null)},p(s,[o]){o&1&&X(n,n=s[0])?(t.d(1),t=Ue(s),t.c(),t.m(e,null)):t.p(s,o)},i:O,o:O,d(s){s&&w(e),t.d(s)}}}function Rt(l,e,n){let t,s;return ce(l,we,o=>n(1,s=o)),l.$$.update=()=>{l.$$.dirty&2&&n(0,t=s.path==="/"?"Home":s.path.slice(1))},[t,s]}class qt extends ne{constructor(e){super();le(this,e,Rt,Ot,X,{})}}function Ye(l){let e,n,t;const s=l[2].default,o=dt(s,l,l[1],null);return{c(){e=f("div"),o&&o.c()},m(i,r){_(i,e,r),o&&o.m(e,null),t=!0},p(i,r){o&&o.p&&(!t||r&2)&&at(o,s,i,i[1],t?ut(s,i[1],r,null):ct(i[1]),null)},i(i){t||(y(o,i),n||ft(()=>{n=pt(e,mt,{duration:700}),n.start()}),t=!0)},o(i){T(o,i),t=!1},d(i){i&&w(e),o&&o.d(i)}}}function Dt(l){let e=l[0].path,n,t,s=Ye(l);return{c(){s.c(),n=Se()},m(o,i){s.m(o,i),_(o,n,i),t=!0},p(o,[i]){i&1&&X(e,e=o[0].path)?(Ce(),T(s,1,1,O),Te(),s=Ye(o),s.c(),y(s),s.m(n.parentNode,n)):s.p(o,i)},i(o){t||(y(s),t=!0)},o(o){T(s),t=!1},d(o){o&&w(n),s.d(o)}}}function It(l,e,n){let t;ce(l,we,i=>n(0,t=i));let{$$slots:s={},$$scope:o}=e;return l.$$set=i=>{"$$scope"in i&&n(1,o=i.$$scope)},[t,o,s]}class jt extends ne{constructor(e){super();le(this,e,It,Dt,X,{})}}function Wt(l){let e;return{c(){e=f("a"),e.textContent="Connect",a(e,"href","/connect"),a(e,"class","btn btn-primary")},m(n,t){_(n,e,t)},d(n){n&&w(e)}}}function Bt(l){let e;return{c(){e=f("a"),e.textContent="My Notes",a(e,"href","/notes"),a(e,"class","btn btn-primary")},m(n,t){_(n,e,t)},d(n){n&&w(e)}}}function Ut(l){let e,n,t,s,o,i,r,p,c,d,m,v,k,h,b,g,E;function R(P,M){return P[0]?Bt:Wt}let L=R(l),x=L(l);return{c(){e=f("div"),n=f("div"),t=f("div"),s=f("figure"),s.innerHTML='<img class="w-64 rounded-lg" src="permanote.png" alt="logo"/>',o=$(),i=f("h1"),i.innerHTML='<span class="uppercase text-primary">PermaNotes</span>',r=$(),p=f("div"),p.innerHTML=`<h2 class="text-3xl text-secondary">\u2728 CREATE</h2> 
        <h2 class="text-3xl text-primary">\u{1F5C4} STORE</h2> 
        <h2 class="text-3xl text-accent">\u{1F9E0} SHARE</h2>`,c=$(),d=f("div"),x.c(),m=$(),v=f("a"),v.textContent="Learn More",k=$(),h=f("div"),b=f("a"),g=f("img"),a(s,"class","flex items-center justify-center"),a(i,"class","mt-8 text-5xl"),a(p,"class","flex mt-8 space-x-2"),a(v,"href","/notes/Xx8lQw1q9xOUn1mB7CMagKHgv8XUy9NxsrQLtfqZItY"),a(v,"class","btn btn-outline btn-secondary"),a(d,"class","mt-16 space-x-4"),a(t,"class","max-w-md"),a(n,"class","hero-content text-center"),Le(g.src,E=window.matchMedia("(prefers-color-scheme: dark)").matches?"ar-dark.png":"ar-light.png")||a(g,"src",E),a(g,"alt","permanent"),a(b,"href","/notes/bZrzlz3F92yI7nmGIT2mxO8Gm6MnfnVNGiwYBCh5c2Q"),a(h,"class","absolute bottom-8 left-8"),a(e,"class","hero min-h-screen bg-base-200")},m(P,M){_(P,e,M),u(e,n),u(n,t),u(t,s),u(t,o),u(t,i),u(t,r),u(t,p),u(t,c),u(t,d),x.m(d,null),u(d,m),u(d,v),u(e,k),u(e,h),u(h,b),u(b,g)},p(P,[M]){L!==(L=R(P))&&(x.d(1),x=L(P),x&&(x.c(),x.m(d,m)))},i:O,o:O,d(P){P&&w(e),x.d()}}}function Yt(l,e,n){let t;return ce(l,ue,s=>n(0,t=s)),[t]}class st extends ne{constructor(e){super();le(this,e,Yt,Ut,X,{})}}function Kt(l){let e,n,t,s,o,i,r,p;return{c(){e=f("li"),e.innerHTML='<a href="/notes">Notes</a>',n=$(),t=f("li"),t.innerHTML='<a href="/account">Account</a>',s=$(),o=f("li"),i=f("button"),i.textContent="Disconnect",a(i,"class","btn btn-ghost")},m(c,d){_(c,e,d),_(c,n,d),_(c,t,d),_(c,s,d),_(c,o,d),u(o,i),r||(p=F(i,"click",l[1]),r=!0)},p:O,d(c){c&&w(e),c&&w(n),c&&w(t),c&&w(s),c&&w(o),r=!1,p()}}}function Qt(l){let e;return{c(){e=f("li"),e.innerHTML='<a href="/connect">Connect</a>'},m(n,t){_(n,e,t)},p:O,d(n){n&&w(e)}}}function Ft(l){let e,n,t,s,o,i,r,p;function c(v,k){return k&1&&(p=null),p==null&&(p=!!bt(v[0])),p?Qt:Kt}let d=c(l,-1),m=d(l);return{c(){e=f("div"),n=f("div"),n.innerHTML='<a href="/" class="btn btn-ghost normal-case text-xl">PERMA NOTES</a>',t=$(),s=f("div"),o=f("ul"),i=f("li"),i.innerHTML='<a href="/notes/Xx8lQw1q9xOUn1mB7CMagKHgv8XUy9NxsrQLtfqZItY">Learn</a>',r=$(),m.c(),a(n,"class","flex-1"),a(o,"class","menu menu-horizontal p-0"),a(s,"class","flex-none"),a(e,"class","navbar bg-base-100")},m(v,k){_(v,e,k),u(e,n),u(e,t),u(e,s),u(s,o),u(o,i),u(o,r),m.m(o,null)},p(v,[k]){d===(d=c(v,k))&&m?m.p(v,k):(m.d(1),m=d(v),m&&(m.c(),m.m(o,null)))},i:O,o:O,d(v){v&&w(e),m.d()}}}function Vt(l,e,n){let t;ce(l,ue,o=>n(0,t=o));function s(){window.arweaveWallet&&window.arweaveWallet.disconnect(),ue.set(""),we.goto("/connect")}return[t,s]}class Pe extends ne{constructor(e){super();le(this,e,Vt,Ft,X,{})}}const zt="cwElAMnBqu2fp-TUsV9lBIZJi-DRZ5tQJgJqxhFjqNY",Gt=".004",Zt=new _t,te=new wt.init({host:{}.VITE_ARWEAVE||"arweave.net",port:"443",protocol:"https"});let _e=null;const Jt=()=>(_e=new $t({name:"permanotes",logo:`${window.location.origin}/permanote.png`}),_e.setUrl("https://arweave.app"),_e.connect()),De=async l=>await Zt.get(l),rt=l=>te.api.get(l).then(async e=>{if(!e.data.public)if(_e){const n=Object.values(e.data.content),t=new Uint8Array(n.slice(0,512)),s=new Uint8Array(n.slice(512)),o=await ln(t),i=te.utils.bufferToString(await te.crypto.decrypt(s,o));e.data.content=i}else e.data.content=await arweaveWallet.decrypt(new Uint8Array(Object.values(e.data.content)),{algorithm:"RSA-OAEP",hash:"SHA-256"});return e.data}),Xt=async l=>{if(!l.public)if(_e){const o=new TextEncoder().encode(l.content),i=sn(),r=await te.crypto.encrypt(o,i),p=await _e.getPublicKey(),c=await rn(p),d=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},c,i);l.content=te.utils.concatBuffers([d,r])}else l.content=await arweaveWallet.encrypt(l.content,{algorithm:"RSA-OAEP",hash:"SHA-256"});const e=await je.readContract(te,zt),n=je.selectWeightedPstHolder(e.balances),t=await te.createTransaction({data:JSON.stringify(l),target:n,quantity:te.ar.arToWinston(Gt)});return t.addTag("Content-Type","application/json"),t.addTag("App-Name","PermaNotes"),t.addTag("Protocol",l.protocol),t.addTag("Note-Title",l.title),t.addTag("Description",l.description),t.addTag("Note-Topic",l.topic),t.addTag("Note-Rev",l.rev),t.addTag("Timestamp",new Date().toISOString()),await te.transactions.sign(t),await te.transactions.post(t),t},en=l=>te.api.post("graphql",{query:l}),tn=async l=>{var t,s;let e=0,n=null;for(;!n;){e+=1,console.log(`attempt ${e}`),await nn(2e3*e);const o=await te.api.post("graphql",{query:`
query {
  transaction(id: "${l}") {
    id
  }
}
    `});if((s=(t=o==null?void 0:o.data)==null?void 0:t.data)!=null&&s.transaction&&(n=o.data.data.transaction.id===l),e>10)break}return n};function nn(l){return new Promise(e=>setTimeout(e,l))}async function ln(l){if(_e!=null)return console.log(_e),await _e.decrypt(l,{name:"RSA-OAEP"});throw"Cannot perform RSA decryption with ArConnect"}function sn(){const l=new Uint8Array(256);return crypto.getRandomValues(l)}async function rn(l){console.log(l);const e={kty:"RSA",e:"AQAB",n:l,alg:"RSA-OAEP-256",ext:!0},n={name:"RSA-OAEP",hash:{name:"SHA-256"}};return crypto.subtle.importKey("jwk",e,n,!1,["encrypt"])}function on(l){let e,n,t,s,o,i,r,p,c,d,m,v,k,h,b,g,E,R,L,x,P,M,S,K,B,N,C,U;return e=new Pe({}),{c(){D(e.$$.fragment),n=$(),t=f("main"),s=f("section"),o=f("div"),i=f("div"),r=f("h1"),r.textContent="Connect Wallet",p=$(),c=f("div"),d=f("div"),d.innerHTML=`<figure class="px-10 pt-10 bg-gray-400" style="height: 168px;"><img height="128px" src="https://bgwysvp67cg4wxfsvgktephcajni7ggdsa7kgpo5rl637avdlc2a.arweave.net/Ca2JVf74jctcsqmVMjziAlqPmMOQPqM93Yr9v4KjWLQ" alt="arconnect logo" class="rounded-xl"/></figure> 
            <div class="card-body"><h2 class="card-title">ArConnect</h2></div>`,m=$(),v=f("div"),v.innerHTML=`<figure class="px-10 pt-10 bg-gray-400" style="height: 168px;"><img src="https://tgbcqufuppegmlhigt2zosiv2q55qty4t4rg2gebmfm4vpvf.arweave.net/mYIoULR7yGYs_6DT1_l0kV1DvYTxyfIm0YgWFZyr6l0" alt="arweave logo" class="rounded-x1"/></figure> 
            <div class="card-body"><h2 class="card-title">ArWeave App</h2></div>`,k=$(),h=f("div"),h.innerHTML=`<p>Need help?</p> 
          <p>If you are new to ARWeave and don&#39;t understand what a wallet is? How
            do I get a wallet? Etc? Click <a class="underline" href="/learn">here</a> to learn more about web3 and Arweave</p>`,b=$(),g=f("input"),E=$(),R=f("div"),L=f("div"),x=f("h3"),x.textContent="Error Trying to Connect",P=$(),M=f("div"),S=Q(l[0]),K=$(),B=f("label"),B.textContent="Close",a(r,"class","text-6xl"),a(d,"class","card bg-base-100 shadow-xl hover:border"),a(v,"class","card bg-base-100 shadow-xl hover:border"),a(c,"class","mt-16 flex space-x-4"),a(h,"class","mt-16"),a(i,"class","max-w-md"),a(o,"class","hero-content text-center"),a(s,"class","hero min-h-screen bg-base-200"),a(g,"type","checkbox"),a(g,"id","error-msg"),a(g,"class","modal-toggle"),a(x,"class","font-bold text-lg mb-8"),a(M,"class","flex items-center justify-center my-4"),a(B,"class","btn float-right"),a(B,"for","error-msg"),a(L,"class","modal-box alert-error text-white"),a(R,"class","modal")},m(A,V){I(e,A,V),_(A,n,V),_(A,t,V),u(t,s),u(s,o),u(o,i),u(i,r),u(i,p),u(i,c),u(c,d),u(c,m),u(c,v),u(i,k),u(i,h),_(A,b,V),_(A,g,V),g.checked=l[0],_(A,E,V),_(A,R,V),u(R,L),u(L,x),u(L,P),u(L,M),u(M,S),u(L,K),u(L,B),N=!0,C||(U=[F(d,"click",l[2]),F(v,"click",l[1]),F(g,"change",l[3])],C=!0)},p(A,[V]){V&1&&(g.checked=A[0]),(!N||V&1)&&be(S,A[0])},i(A){N||(y(e.$$.fragment,A),N=!0)},o(A){T(e.$$.fragment,A),N=!1},d(A){j(e,A),A&&w(n),A&&w(t),A&&w(b),A&&w(g),A&&w(E),A&&w(R),C=!1,He(U)}}}function an(l,e,n){let t=null;async function s(){try{const r=await Jt().catch(c=>""),p=await De(r);ue.set(r),qe.set(p),we.goto("/account")}catch(r){n(0,t=r.message)}}async function o(){window.arweaveWallet===void 0&&(window.location.href="https://arconnect.io"),await arweaveWallet.connect(["ACCESS_ADDRESS","ACCESS_PUBLIC_KEY","SIGN_TRANSACTION","DISPATCH","ENCRYPT","DECRYPT"],{name:"PermaNotes",logo:`${window.location.origin}/permanote.png`});const r=await arweaveWallet.getActiveAddress(),p=await De(r);ue.set(r),qe.set(p),we.goto("/account")}function i(){t=this.checked,n(0,t)}return[t,s,o,i]}class Oe extends ne{constructor(e){super();le(this,e,an,on,X,{})}}function cn(l){let e,n,t,s,o,i,r,p,c,d=l[3].length>0?`#${l[3]}`:"",m,v,k,h=(l[2]||"")+"",b,g,E,R,L=We(new Date(l[4]),new Date,{addSuffix:!0})+"",x,P,M,S,K;return{c(){e=f("div"),n=f("div"),t=f("div"),s=f("h2"),o=Q(l[1]),i=$(),r=f("div"),p=f("div"),c=f("p"),m=Q(d),v=$(),k=f("p"),b=Q(h),g=$(),E=f("div"),R=f("p"),x=Q(L),P=$(),M=f("a"),S=Q("View"),a(s,"class","card-title flex-1"),a(c,"class",""),a(p,"class","flex"),a(r,"class","flex-none"),a(t,"class","flex"),a(R,"class","mt-4"),a(M,"class","btn btn-primary"),a(M,"href",K="/notes/"+l[0]),a(E,"class","card-actions justify-end"),a(n,"class","card-body"),a(e,"class","card bg-base-100 shadow-xl")},m(B,N){_(B,e,N),u(e,n),u(n,t),u(t,s),u(s,o),u(t,i),u(t,r),u(r,p),u(p,c),u(c,m),u(n,v),u(n,k),u(k,b),u(n,g),u(n,E),u(E,R),u(R,x),u(E,P),u(E,M),u(M,S)},p(B,[N]){N&2&&be(o,B[1]),N&8&&d!==(d=B[3].length>0?`#${B[3]}`:"")&&be(m,d),N&4&&h!==(h=(B[2]||"")+"")&&be(b,h),N&16&&L!==(L=We(new Date(B[4]),new Date,{addSuffix:!0})+"")&&be(x,L),N&1&&K!==(K="/notes/"+B[0])&&a(M,"href",K)},i:O,o:O,d(B){B&&w(e)}}}function un(l,e,n){let{id:t,title:s,description:o,topic:i,timestamp:r}=e;return l.$$set=p=>{"id"in p&&n(0,t=p.id),"title"in p&&n(1,s=p.title),"description"in p&&n(2,o=p.description),"topic"in p&&n(3,i=p.topic),"timestamp"in p&&n(4,r=p.timestamp)},[t,s,o,i,r]}class fn extends ne{constructor(e){super();le(this,e,un,cn,X,{id:0,title:1,description:2,topic:3,timestamp:4})}}function pn(l){let e;return{c(){e=f("form"),e.innerHTML=`<div class="card-body"><h2 class="card-title">Search for Note</h2> 
    <div class="form-control w-full max-w-xs"><input placeholder="Enter Title, Description, or Topic" type="text" class="input input-bordered w-full"/></div> 
    <div class="card-actions justify-end"><button type="submit" class="btn btn-primary">Search</button></div></div>`,a(e,"class","card bg-base-100 shadow-xl w-full")},m(n,t){_(n,e,t)},p:O,i:O,o:O,d(n){n&&w(e)}}}class dn extends ne{constructor(e){super();le(this,e,null,pn,X,{})}}const mn=ee.object({id:ee.string().optional(),type:ee.literal("note").default("note"),owner:ee.string(),rev:ee.string().default("1"),contentType:ee.literal("text/markdown").default("text/markdown"),title:ee.string().max(20),description:ee.string().max(50),protocol:ee.literal("PermaNotes-v0.1").default("PermaNotes-v0.1"),content:ee.string(),public:ee.boolean().default(!1),topic:ee.string().optional(),timestamp:ee.string(),likeContract:ee.string().optional()}),Ae=l=>vt(ht("value"),gt(kt("name",l))),bn=l=>{const e=Ae("Timestamp")(l.tags),n=e||new Date().toISOString();return{id:l.id,owner:l.owner.address,type:Ae("Type")(l.tags),title:Ae("Note-Title")(l.tags),description:Ae("Description")(l.tags),topic:Ae("Note-Topic")(l.tags),rev:Ae("Note-Rev")(l.tags),timestamp:n}},_n=l=>{l.timestamp=new Date().toISOString();const e=mn.safeParse(l);return e.success?J.Resolved(e.data):J.Rejected(e.error.flatten())};function Me({post:l,waitfor:e,gql:n,load:t,account:s,likes:o}){const i=J.fromPromise(async b=>b.public?Be("likeContract",await o.create(),b):b),r=J.fromPromise(async b=>{try{return b.public?Be("likes",await o.likes(b.likeContract),b):b}catch(g){return console.log("Error",g),b}});async function p(b){return J.of(b).chain(_n).chain(i).chain(J.fromPromise(l)).chain(g=>J.fromPromise(e)(g.id)).toPromise()}async function c(b){return J.of(b).map(wn).chain(J.fromPromise(n)).map(Qe).map(Ke).toPromise()}async function d(b){return J.of(b).map($n).chain(J.fromPromise(n)).map(Qe).map(Ke).toPromise()}async function m(b){return J.of(b).chain(J.fromPromise(t)).chain(r).toPromise()}async function v(b){return J.of(b).chain(J.fromPromise(s)).map(et(["profile","name"])).toPromise()}function k(b,g){return o.like(b,g)}function h(b,g){return o.unlike(b,g)}return{create:p,byOwner:c,byTopic:d,get:m,getHandle:v,like:k,unlike:h}}function Ke(l){return tt(yt,Ct(Tt("timestamp")),xt(bn))(l)}function Qe(l){return tt(Nt("node"),et(["data","data","transactions","edges"]))(l)}function wn(l){return`
query {
  transactions(first:100, owners: ["${l}"], tags: { name: "Protocol", values: ["PermaNotes-v0.1"]}) {
    edges {
      node {
        id
        owner {
          address
        }
        tags {
          name
          value
        }
      }
    }
  }
}
  `}function $n(l){return`
query {
  transactions(first: 100, tags: [
    { name: "Protocol", values: ["PermaNotes-v0.1"]},
    { name: "Note-Topic", values: ["${l}"]}
  ]) {
    edges {
      node {
        id
        owner {
          address
        }
        tags {
          name
          value
        }
      }
    }
  }
}
  `}function Fe(l,e,n){const t=l.slice();return t[14]=e[n],t}function Ve(l){let e,n;return e=new dn({}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function vn(l){return{c:O,m:O,p:O,i:O,o:O,d:O}}function gn(l){let e,n,t=l[13],s=[];for(let i=0;i<t.length;i+=1)s[i]=ze(Fe(l,t,i));const o=i=>T(s[i],1,1,()=>{s[i]=null});return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=Se()},m(i,r){for(let p=0;p<s.length;p+=1)s[p].m(i,r);_(i,e,r),n=!0},p(i,r){if(r&16){t=i[13];let p;for(p=0;p<t.length;p+=1){const c=Fe(i,t,p);s[p]?(s[p].p(c,r),y(s[p],1)):(s[p]=ze(c),s[p].c(),y(s[p],1),s[p].m(e.parentNode,e))}for(Ce(),p=t.length;p<s.length;p+=1)o(p);Te()}},i(i){if(!n){for(let r=0;r<t.length;r+=1)y(s[r]);n=!0}},o(i){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)T(s[r]);n=!1},d(i){At(s,i),i&&w(e)}}}function ze(l){let e,n;return e=new fn({props:{id:l[14].id,title:l[14].title,description:l[14].description,topic:l[14].topic,timestamp:l[14].timestamp}}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},p:O,i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function kn(l){return{c:O,m:O,p:O,i:O,o:O,d:O}}function hn(l){let e,n,t,s,o,i,r,p,c,d,m,v,k,h,b,g,E,R,L,x,P,M,S,K,B,N,C,U,A,V,ge,xe,ke,$e,G,he,Z,se,ie,oe,fe,Ee,ve,pe,de,me,ye,z,q;e=new Pe({});let W=l[0]&&Ve(),re={ctx:l,current:null,token:null,hasCatch:!1,pending:kn,then:gn,catch:vn,value:13,blocks:[,,,]};return nt(l[4](),re),K=new Ie({props:{size:"60",color:"rebeccapurple",unit:"px",duration:"2s"}}),{c(){D(e.$$.fragment),n=$(),t=f("main"),s=f("section"),o=f("div"),W&&W.c(),i=$(),r=f("div"),p=f("h1"),p.textContent="Notes",c=$(),d=f("div"),m=f("button"),m.innerHTML='<img src="search.svg" alt="search button" style="width: 32px;"/>',v=$(),k=f("a"),k.textContent="New Note",h=$(),b=f("div"),re.block.c(),g=$(),E=f("input"),R=$(),L=f("div"),x=f("div"),P=f("h3"),P.textContent="Loading Notes",M=$(),S=f("div"),D(K.$$.fragment),B=$(),N=f("input"),C=$(),U=f("div"),A=f("div"),V=f("h3"),V.textContent="Setup Favorites",ge=$(),xe=f("p"),xe.textContent=`Every time you like a public note, you can include it in your favorites
      list, in order to create your favorites list just click 'Setup'`,ke=$(),$e=f("div"),G=f("button"),G.textContent="Setup Favorite",he=$(),Z=f("input"),se=$(),ie=f("div"),oe=f("div"),fe=f("h3"),fe.textContent="Feature available soon!",Ee=$(),ve=f("p"),ve.textContent=`This feature will allow users to enter a topic to find public notes and
      their private notes for that topic.`,pe=$(),de=f("div"),me=f("button"),me.textContent="OK",a(p,"class","text-2xl flex-1"),a(m,"class","btn btn-ghost"),a(k,"href","/notes/new"),a(k,"class","btn btn-primary"),a(d,"class","flex-none flex space-x-4"),a(r,"class","flex w-full"),a(b,"class","flex flex-col space-y-4 w-full"),a(o,"class","hero-content flex-col w-full"),a(s,"class","hero bg-base-200 min-h-screen items-start"),a(E,"type","checkbox"),a(E,"id","save-note"),a(E,"class","modal-toggle"),a(P,"class","font-bold text-lg"),a(S,"class","flex items-center justify-center"),a(x,"class","modal-box"),a(L,"class","modal"),a(N,"type","checkbox"),a(N,"id","setup-favorites"),a(N,"class","modal-toggle"),a(V,"class","font-bold text-lg"),a(G,"class","btn btn-primary"),a($e,"class","flex items-center justify-center"),a(A,"class","modal-box"),a(U,"class","modal"),a(Z,"type","checkbox"),a(Z,"id","by-topic"),a(Z,"class","modal-toggle"),a(fe,"class","font-bold text-lg"),a(me,"class","btn btn-primary"),a(de,"class","flex items-center justify-center"),a(oe,"class","modal-box"),a(ie,"class","modal")},m(H,Y){I(e,H,Y),_(H,n,Y),_(H,t,Y),u(t,s),u(s,o),W&&W.m(o,null),u(o,i),u(o,r),u(r,p),u(r,c),u(r,d),u(d,m),u(d,v),u(d,k),u(o,h),u(o,b),re.block.m(b,re.anchor=null),re.mount=()=>b,re.anchor=null,_(H,g,Y),_(H,E,Y),E.checked=l[1],_(H,R,Y),_(H,L,Y),u(L,x),u(x,P),u(x,M),u(x,S),I(K,S,null),_(H,B,Y),_(H,N,Y),N.checked=l[2],_(H,C,Y),_(H,U,Y),u(U,A),u(A,V),u(A,ge),u(A,xe),u(A,ke),u(A,$e),u($e,G),_(H,he,Y),_(H,Z,Y),Z.checked=l[3],_(H,se,Y),_(H,ie,Y),u(ie,oe),u(oe,fe),u(oe,Ee),u(oe,ve),u(oe,pe),u(oe,de),u(de,me),ye=!0,z||(q=[F(m,"click",l[5]),F(E,"change",l[6]),F(N,"change",l[7]),F(G,"click",l[8]),F(Z,"change",l[9]),F(me,"click",l[10])],z=!0)},p(H,[Y]){l=H,l[0]?W?Y&1&&y(W,1):(W=Ve(),W.c(),y(W,1),W.m(o,i)):W&&(Ce(),T(W,1,1,()=>{W=null}),Te()),lt(re,l,Y),Y&2&&(E.checked=l[1]),Y&4&&(N.checked=l[2]),Y&8&&(Z.checked=l[3])},i(H){ye||(y(e.$$.fragment,H),y(W),y(re.block),y(K.$$.fragment,H),ye=!0)},o(H){T(e.$$.fragment,H),T(W);for(let Y=0;Y<3;Y+=1){const it=re.blocks[Y];T(it)}T(K.$$.fragment,H),ye=!1},d(H){j(e,H),H&&w(n),H&&w(t),W&&W.d(),re.block.d(),re.token=null,re=null,H&&w(g),H&&w(E),H&&w(R),H&&w(L),j(K),H&&w(B),H&&w(N),H&&w(C),H&&w(U),H&&w(he),H&&w(Z),H&&w(se),H&&w(ie),z=!1,He(q)}}}function yn(l,e,n){let t;ce(l,ue,b=>n(11,t=b));let s=!1,o=!0,i=!1,r=!1;async function p(){try{n(1,o=!0);const b=await Me({gql:en}).byOwner(t);return n(1,o=!1),b}catch(b){return n(1,o=!1),alert(b.message),[]}}const c=()=>{n(0,s=!s)};function d(){o=this.checked,n(1,o)}function m(){i=this.checked,n(2,i)}const v=()=>n(2,i=!1);function k(){r=this.checked,n(3,r)}return[s,o,i,r,p,c,d,m,v,k,()=>n(3,r=!1)]}class Cn extends ne{constructor(e){super();le(this,e,yn,hn,X,{})}}function Tn(l){let e,n,t,s,o,i;return{c(){e=f("h1"),n=Q(l[0]),t=$(),s=f("p"),s.textContent="Profile not found!",o=$(),i=f("p"),i.innerHTML='Create a profile at <a class="underline" href="https://arweave.net/HOHBm7vNOoDds4uah2Du2jr7nsELJx9V0C0h54MYLes">Arweave Account</a>',a(e,"class","text-6xl")},m(r,p){_(r,e,p),u(e,n),_(r,t,p),_(r,s,p),_(r,o,p),_(r,i,p)},p(r,p){p&1&&be(n,r[0])},d(r){r&&w(e),r&&w(t),r&&w(s),r&&w(o),r&&w(i)}}}function xn(l){let e,n,t,s,o,i,r,p;return{c(){e=f("img"),t=$(),s=f("h1"),s.textContent=`${l[1].name}`,o=$(),i=f("p"),i.textContent=`${l[1].bio}`,r=$(),p=f("div"),p.innerHTML=`<a href="/notes" class="btn btn-primary">My Notes</a> 
          <a href="/notes/new" class="btn">New Note</a>`,Le(e.src,n=`https://arweave.net/${l[1].avatar}`)||a(e,"src",n),a(e,"alt",l[1].name),a(s,"class","text-6xl"),a(p,"class","flex space-x-8")},m(c,d){_(c,e,d),_(c,t,d),_(c,s,d),_(c,o,d),_(c,i,d),_(c,r,d),_(c,p,d)},p:O,d(c){c&&w(e),c&&w(t),c&&w(s),c&&w(o),c&&w(i),c&&w(r),c&&w(p)}}}function Nn(l){let e,n,t,s,o,i;e=new Pe({});function r(d,m){return d[1]?xn:Tn}let c=r(l)(l);return{c(){D(e.$$.fragment),n=$(),t=f("main"),s=f("section"),o=f("div"),c.c(),a(o,"class","hero-content flex-col"),a(s,"class","hero min-h-screen bg-base-200")},m(d,m){I(e,d,m),_(d,n,m),_(d,t,m),u(t,s),u(s,o),c.m(o,null),i=!0},p(d,[m]){c.p(d,m)},i(d){i||(y(e.$$.fragment,d),i=!0)},o(d){T(e.$$.fragment,d),i=!1},d(d){j(e,d),d&&w(n),d&&w(t),c.d()}}}function An(l,e,n){let t,s;ce(l,qe,i=>n(2,t=i)),ce(l,ue,i=>n(0,s=i));const o=t.profile;return[s,o]}class Sn extends ne{constructor(e){super();le(this,e,An,Nn,X,{})}}const{SmartWeaveWebFactory:Pn,LoggerFactory:En}=rsdk,Ln="Hljxh8rYyXCb45BYULHb6KhUDnRkxc4ZUaUDCUkOP_w";En.INST.logLevel("fatal");function ot(l){const e=Pn.memCachedBased(l).useRedStoneGateway({notCorrupted:!0}).build();function n(){return e.createContract.deployFromSourceTx({initState:JSON.stringify({addresses:[]}),srcTxId:Ln},!0)}function t(r="",p=""){if(r==="")throw new Error("contract can not be empty!");if(p==="")throw new Error("address can not be empty!");return e.contract(r).connect("use_wallet").bundleInteraction({function:"like",transfer:{target:p,winstonQty:"1000000000"}}).then(c=>(console.log(c),c))}function s(r="",p=""){if(r==="")throw new Error("contract can not be empty!");if(p==="")throw new Error("address can not be empty!");return e.contract(r).connect("use_wallet").bundleInteraction({function:"unlike",transfer:{target:p,winstonQty:"1000000000"}})}function o(r){return e.contract(r).connect("use_wallet").readState().then(({state:p})=>p.addresses)}function i(r,p){return e.contract(r).connect("use_wallet").readState().then(({state:c})=>c.addresses.includes(p))}return{create:n,like:t,unlike:s,likes:o,liked:i}}function Ge(l){let e,n;return{c(){e=f("div"),n=Q(l[0]),a(e,"class","alert alert-error")},m(t,s){_(t,e,s),u(e,n)},p(t,s){s&1&&be(n,t[0])},d(t){t&&w(e)}}}function Mn(l){let e,n,t,s,o,i,r,p,c,d,m,v,k,h,b,g,E,R,L,x,P,M,S,K,B,N,C,U,A,V,ge,xe,ke,$e,G,he,Z,se,ie,oe,fe,Ee,ve,pe,de,me,ye;e=new Pe({});let z=l[0]&&Ge(l);return pe=new Ie({props:{size:"60",color:"rebeccapurple",unit:"px",duration:"2s"}}),{c(){D(e.$$.fragment),n=$(),t=f("main"),s=f("section"),o=f("div"),z&&z.c(),i=$(),r=f("form"),p=f("div"),c=f("label"),c.textContent="Title",d=$(),m=f("input"),v=$(),k=f("div"),h=f("label"),h.textContent="Description",b=$(),g=f("input"),E=$(),R=f("div"),R.innerHTML=`<label for="content" class="label">Content(markdown)</label> 
          <textarea class="textarea textarea-bordered textarea-secondary bg-white" id="content" name="content"></textarea>`,L=$(),x=f("div"),P=f("label"),P.textContent="Topic",M=$(),S=f("input"),K=$(),B=f("div"),N=f("label"),C=f("span"),C.textContent=`Public (if marked public the note will be unencrypted and
              viewable by everyone.)`,U=$(),A=f("input"),V=$(),ge=f("p"),ge.textContent=`When you create a note, it will be posted on the permaweb, and can
          never be removed, if you choose to keep it private it will be
          encrypted by your wallet.`,xe=$(),ke=f("div"),ke.innerHTML=`<button type="submit" class="btn">Create Note</button> 
          <a class="btn" href="/notes">Cancel</a>`,$e=$(),G=f("input"),he=$(),Z=f("div"),se=f("div"),ie=f("h3"),ie.textContent="Saving Note to Arweave",oe=$(),fe=f("p"),fe.textContent=`This should only take a few seconds to store your note on the Permaweb.
      Once successfully stored, it will be stored forever.`,Ee=$(),ve=f("div"),D(pe.$$.fragment),a(c,"for","title"),a(c,"class","label"),m.required=!0,a(m,"class","input input-bordered"),a(m,"id","title"),a(m,"name","title"),a(m,"maxlength","20"),a(m,"placeholder","Enter title of your note (max: 20 characters)"),a(p,"class","form-control"),a(h,"for","description"),a(h,"class","label"),g.required=!0,a(g,"class","input input-bordered"),a(g,"id","description"),a(g,"name","description"),a(g,"maxlength","50"),a(g,"placeholder","Enter a 50 character description of your note."),a(k,"class","form-control"),a(R,"class","form-control"),a(P,"for","topic"),a(P,"class","label"),a(S,"class","input input-bordered"),a(S,"id","topic"),a(S,"name","topic"),a(S,"placeholder","(optional) Enter a topic for your note."),a(x,"class","form-control"),a(C,"class","label-text"),a(A,"type","checkbox"),a(A,"class","toggle toggle-secondary"),a(N,"for","public"),a(N,"class","label cursor-pointer"),a(B,"class","mt-4 form-control"),a(ge,"class","mt-4 alert alert-info"),a(ke,"class","mt-8"),a(r,"class","w-full"),a(o,"class","hero-content flex-col"),a(s,"class","hero bg-base-100 min-h-screen"),a(G,"type","checkbox"),a(G,"id","save-note"),a(G,"class","modal-toggle"),a(ie,"class","font-bold text-lg"),a(fe,"class","py-4"),a(ve,"class","flex items-center justify-center"),a(se,"class","modal-box"),a(Z,"class","modal")},m(q,W){I(e,q,W),_(q,n,W),_(q,t,W),u(t,s),u(s,o),z&&z.m(o,null),u(o,i),u(o,r),u(r,p),u(p,c),u(p,d),u(p,m),Ne(m,l[2].title),u(r,v),u(r,k),u(k,h),u(k,b),u(k,g),Ne(g,l[2].description),u(r,E),u(r,R),u(r,L),u(r,x),u(x,P),u(x,M),u(x,S),Ne(S,l[2].topic),u(r,K),u(r,B),u(B,N),u(N,C),u(N,U),u(N,A),A.checked=l[2].public,u(r,V),u(r,ge),u(r,xe),u(r,ke),_(q,$e,W),_(q,G,W),G.checked=l[1],_(q,he,W),_(q,Z,W),u(Z,se),u(se,ie),u(se,oe),u(se,fe),u(se,Ee),u(se,ve),I(pe,ve,null),de=!0,me||(ye=[F(m,"input",l[4]),F(g,"input",l[5]),F(S,"input",l[6]),F(A,"change",l[7]),F(r,"submit",St(l[3])),F(G,"change",l[8])],me=!0)},p(q,[W]){q[0]?z?z.p(q,W):(z=Ge(q),z.c(),z.m(o,i)):z&&(z.d(1),z=null),W&4&&m.value!==q[2].title&&Ne(m,q[2].title),W&4&&g.value!==q[2].description&&Ne(g,q[2].description),W&4&&S.value!==q[2].topic&&Ne(S,q[2].topic),W&4&&(A.checked=q[2].public),W&2&&(G.checked=q[1])},i(q){de||(y(e.$$.fragment,q),y(pe.$$.fragment,q),de=!0)},o(q){T(e.$$.fragment,q),T(pe.$$.fragment,q),de=!1},d(q){j(e,q),q&&w(n),q&&w(t),z&&z.d(),q&&w($e),q&&w(G),q&&w(he),q&&w(Z),j(pe),me=!1,He(ye)}}}function Hn(l,e,n){let t;ce(l,ue,h=>n(10,t=h));var s=null;let o=null,i=!1;Pt(()=>{s=new window.EasyMDE({autosave:{enabled:!0,uniqueId:"new-permanote"},previewClass:"bg-base-200 p-4 prose prose-lg",spellChecker:!1,nativeSpellcheck:!1})});let r={public:!1};Re().query.fork&&Me({load:rt}).get(Re().query.fork).then(h=>{n(2,r.title=h.title,r),n(2,r.description=h.description,r),s.value(h.content),n(2,r.topic=h.topic,r),n(2,r.public=h.public,r)});async function p(){try{n(1,i=!0),n(2,r.content=s.value(),r),n(2,r.owner=t,r);const h=ot(te);await Me({post:Xt,waitfor:tn,likes:h}).create(r),n(1,i=!1),window.scrollTo(0,0),we.goto("/notes")}catch(h){window.scrollTo(0,0),n(0,o=h.message),n(1,i=!1)}}function c(){r.title=this.value,n(2,r)}function d(){r.description=this.value,n(2,r)}function m(){r.topic=this.value,n(2,r)}function v(){r.public=this.checked,n(2,r)}function k(){i=this.checked,n(1,i)}return[o,i,r,p,c,d,m,v,k]}class On extends ne{constructor(e){super();le(this,e,Hn,Mn,X,{})}}function Rn(l){return{c:O,m:O,p:O,d:O}}function qn(l){let e,n,t,s,o,i,r=Et.parse(l[19].content)+"",p,c,d=l[19].public&&Dn(l),m=l[1]&&Je(l);return{c(){d&&d.c(),e=$(),n=f("div"),t=f("button"),t.textContent="info",s=$(),m&&m.c(),o=$(),i=f("div"),a(t,"class","btn btn-outline"),a(n,"class",""),a(i,"class","mt-16 prose prose-lg bg-base-200")},m(v,k){d&&d.m(v,k),_(v,e,k),_(v,n,k),u(n,t),_(v,s,k),m&&m.m(v,k),_(v,o,k),_(v,i,k),i.innerHTML=r,p||(c=F(t,"click",l[12]),p=!0)},p(v,k){v[19].public&&d.p(v,k),v[1]?m?m.p(v,k):(m=Je(v),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null)},d(v){d&&d.d(v),v&&w(e),v&&w(n),v&&w(s),m&&m.d(v),v&&w(o),v&&w(i),p=!1,c()}}}function Dn(l){let e,n,t,s,o,i,r=l[19].owner===l[7]&&Ze(l);function p(m,v){return m[4]?In:jn}let c=p(l),d=c(l);return{c(){e=f("div"),r&&r.c(),n=$(),t=f("div"),d.c(),s=$(),o=f("div"),i=Q(l[3]),a(o,"class","text-center"),a(t,"class","flex flex-col"),a(e,"class","float-right pr-8")},m(m,v){_(m,e,v),r&&r.m(e,null),u(e,n),u(e,t),d.m(t,null),u(t,s),u(t,o),u(o,i)},p(m,v){m[19].owner===m[7]?r?r.p(m,v):(r=Ze(m),r.c(),r.m(e,n)):r&&(r.d(1),r=null),c===(c=p(m))&&d?d.p(m,v):(d.d(1),d=c(m),d&&(d.c(),d.m(t,s))),v&8&&be(i,m[3])},d(m){m&&w(e),r&&r.d(),d.d()}}}function Ze(l){let e,n;return{c(){e=f("a"),n=Q("Fork"),a(e,"class","btn btn-outline"),a(e,"href","/notes/new?fork="+l[8].params.id)},m(t,s){_(t,e,s),u(e,n)},p:O,d(t){t&&w(e)}}}function In(l){let e,n,t,s,o;return{c(){e=f("button"),n=f("img"),a(n,"class","w-8"),Le(n.src,t="fullheart.svg")||a(n,"src",t),a(n,"alt","like button"),a(e,"class","btn btn-ghost"),e.disabled=l[6]},m(i,r){_(i,e,r),u(e,n),s||(o=F(e,"click",l[10]),s=!0)},p(i,r){r&64&&(e.disabled=i[6])},d(i){i&&w(e),s=!1,o()}}}function jn(l){let e,n,t,s,o;return{c(){e=f("button"),n=f("img"),a(n,"class","w-8"),Le(n.src,t="heart.svg")||a(n,"src",t),a(n,"alt","like button"),a(e,"class","btn btn-ghost"),e.disabled=l[5]},m(i,r){_(i,e,r),u(e,n),s||(o=F(e,"click",l[9]),s=!0)},p(i,r){r&32&&(e.disabled=i[5])},d(i){i&&w(e),s=!1,o()}}}function Je(l){let e,n,t=l[19].title+"",s,o,i,r,p=l[19].description+"",c,d,m,v,k=(l[19].handle||l[19].owner)+"",h,b,g,E,R=Lt(new Date(l[19].timestamp),"MM-dd-yyyy HH:mm:ss.SSSxxx")+"",L,x,P,M,S=l[8].params.id+"",K,B,N,C,U;return{c(){e=f("div"),n=f("h1"),s=Q(t),o=$(),i=f("p"),r=Q("Description: "),c=Q(p),d=$(),m=f("p"),v=Q("By: "),h=Q(k),b=$(),g=f("p"),E=Q("Created: "),L=Q(R),x=$(),P=f("p"),M=Q("Id: "),K=Q(S),B=$(),N=f("a"),C=Q("share"),a(n,"class","text-3xl"),a(i,"class",""),a(m,"class",""),a(g,"class",""),a(N,"class","underline"),a(N,"target","_blank"),a(N,"href",U="https://twitter.com/intent/tweet?text="+Un(l[19].title,l[19].description)+"&url="+window.location.href.replace("#","%23")),a(e,"class","card p-4 shadow-xl")},m(A,V){_(A,e,V),u(e,n),u(n,s),u(e,o),u(e,i),u(i,r),u(i,c),u(e,d),u(e,m),u(m,v),u(m,h),u(e,b),u(e,g),u(g,E),u(g,L),u(e,x),u(e,P),u(P,M),u(P,K),u(P,B),u(P,N),u(N,C)},p:O,d(A){A&&w(e)}}}function Wn(l){return{c:O,m:O,p:O,d:O}}function Bn(l){let e,n,t,s,o,i,r,p,c,d,m,v,k,h,b,g,E,R,L,x,P,M,S,K,B;e=new Pe({});let N={ctx:l,current:null,token:null,hasCatch:!1,pending:Wn,then:qn,catch:Rn,value:19};return nt(l[11](l[8].params.id),N),R=new Ie({props:{size:"60",color:"rebeccapurple",unit:"px",duration:"2s"}}),{c(){D(e.$$.fragment),n=$(),t=f("main"),s=f("section"),N.block.c(),o=$(),i=f("div"),r=f("a"),p=f("img"),d=$(),m=f("input"),v=$(),k=f("div"),h=f("div"),b=f("h3"),b.textContent="Loading Note",g=$(),E=f("div"),D(R.$$.fragment),L=$(),x=f("input"),P=$(),M=f("div"),M.innerHTML=`<div class="modal-box"><h3 class="font-bold text-lg">Liking a Note</h3> 
    <p class="py-4">Thank you for wanting to like this note! Likes are small tips for the
      content creator, in order to like the note, you must have an AR Wallet,
      you can download and install an AR Wallet here:
      <a class="underline" target="_blank" href="https://arconnect.io">https://arconnect.io</a></p> 

    <div class="modal-action"><label for="like-note" class="btn">OK</label></div></div>`,a(s,"class","mt-8 text-gray-700 relative w-full px-6 py-12 bg-base-200 shadow-xl shadow-slate-700/10 ring-1 ring-gray-900/5 md:max-w-3xl md:mx-auto lg:max-w-4xl lg:pt-16 lg:pb-28"),Le(p.src,c=window.matchMedia("(prefers-color-scheme: dark)").matches?"ar-dark.png":"ar-light.png")||a(p,"src",c),a(p,"alt","permanent"),a(r,"href","/notes/bZrzlz3F92yI7nmGIT2mxO8Gm6MnfnVNGiwYBCh5c2Q"),a(i,"class","absolute bottom-8 left-8"),a(m,"type","checkbox"),a(m,"id","loading-note"),a(m,"class","modal-toggle"),a(b,"class","font-bold text-lg"),a(E,"class","flex items-center justify-center"),a(h,"class","modal-box"),a(k,"class","modal"),a(x,"type","checkbox"),a(x,"id","like-note"),a(x,"class","modal-toggle"),a(M,"class","modal")},m(C,U){I(e,C,U),_(C,n,U),_(C,t,U),u(t,s),N.block.m(s,N.anchor=null),N.mount=()=>s,N.anchor=null,_(C,o,U),_(C,i,U),u(i,r),u(r,p),_(C,d,U),_(C,m,U),m.checked=l[0],_(C,v,U),_(C,k,U),u(k,h),u(h,b),u(h,g),u(h,E),I(R,E,null),_(C,L,U),_(C,x,U),x.checked=l[2],_(C,P,U),_(C,M,U),S=!0,K||(B=[F(m,"change",l[13]),F(x,"change",l[14])],K=!0)},p(C,[U]){l=C,lt(N,l,U),U&1&&(m.checked=l[0]),U&4&&(x.checked=l[2])},i(C){S||(y(e.$$.fragment,C),y(R.$$.fragment,C),S=!0)},o(C){T(e.$$.fragment,C),T(R.$$.fragment,C),S=!1},d(C){j(e,C),C&&w(n),C&&w(t),N.block.d(),N.token=null,N=null,C&&w(o),C&&w(i),C&&w(d),C&&w(m),C&&w(v),C&&w(k),j(R),C&&w(L),C&&w(x),C&&w(P),C&&w(M),K=!1,He(B)}}}function Un(...l){return encodeURI(l.join(" "))}function Yn(l,e,n){let t;ce(l,ue,M=>n(7,t=M));let s=!1,o=!1,i=!1,r="";const p=ot(te),c=Me({load:rt,account:De,likes:p}),d=Re();let m=0,v=!1,k=!1,h=!1,b="";async function g(M){if(!window.arweaveWallet){n(2,i=!0);return}n(5,k=!0),await c.like(r,b),n(4,v=!0),n(3,m=m+1)}async function E(M){n(6,h=!0),await c.unlike(r,b),n(4,v=!1),n(3,m=m-1)}async function R(M){try{n(0,s=!0);const S=await c.get(M);return n(3,m=S.public?S.likes.length:0),r=S.public?S.likeContract:"",n(4,v=t&&S.public?S.likes.includes(t):!1),S.handle=await c.getHandle(S.owner),b=S.owner,n(0,s=!1),S}catch(S){console.log(S.message),we.goto("/404")}}const L=()=>n(1,o=!o);function x(){s=this.checked,n(0,s)}function P(){i=this.checked,n(2,i)}return[s,o,i,m,v,k,h,t,d,g,E,R,L,x,P]}class Kn extends ne{constructor(e){super();le(this,e,Yn,Bn,X,{})}}function Qn(l){let e,n,t,s;return e=new Pe({}),{c(){D(e.$$.fragment),n=$(),t=f("main"),t.innerHTML=`<section class="hero-content flex-col"><h1 class="text-6xl">404</h1> 
    <p>Note not found!</p></section>`,a(t,"class","hero max-h-screen bg-base-100")},m(o,i){I(e,o,i),_(o,n,i),_(o,t,i),s=!0},p:O,i(o){s||(y(e.$$.fragment,o),s=!0)},o(o){T(e.$$.fragment,o),s=!1},d(o){j(e,o),o&&w(n),o&&w(t)}}}class Fn extends ne{constructor(e){super();le(this,e,null,Qn,X,{})}}function Vn(l){let e,n;return e=new st({}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function zn(l){let e,n;return e=new Oe({}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Gn(l){let e,n;return e=new st({}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Zn(l){let e,n,t,s,o;const i=[Gn,zn],r=[];function p(c,d){return d&1&&(e=null),e==null&&(e=!!c[1](c[2](c[0]))),e?0:1}return n=p(l,-1),t=r[n]=i[n](l),{c(){t.c(),s=Se()},m(c,d){r[n].m(c,d),_(c,s,d),o=!0},p(c,d){let m=n;n=p(c,d),n!==m&&(Ce(),T(r[m],1,1,()=>{r[m]=null}),Te(),t=r[n],t||(t=r[n]=i[n](c),t.c()),y(t,1),t.m(s.parentNode,s))},i(c){o||(y(t),o=!0)},o(c){T(t),o=!1},d(c){r[n].d(c),c&&w(s)}}}function Jn(l){let e,n;return e=new Oe({}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function Xn(l){let e,n;return e=new On({}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function el(l){let e,n,t,s,o;const i=[Xn,Jn],r=[];function p(c,d){return d&1&&(e=null),e==null&&(e=!!c[1](c[2](c[0]))),e?0:1}return n=p(l,-1),t=r[n]=i[n](l),{c(){t.c(),s=Se()},m(c,d){r[n].m(c,d),_(c,s,d),o=!0},p(c,d){let m=n;n=p(c,d),n!==m&&(Ce(),T(r[m],1,1,()=>{r[m]=null}),Te(),t=r[n],t||(t=r[n]=i[n](c),t.c()),y(t,1),t.m(s.parentNode,s))},i(c){o||(y(t),o=!0)},o(c){T(t),o=!1},d(c){r[n].d(c),c&&w(s)}}}function tl(l){let e,n;return e=new Kn({}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function nl(l){let e,n;return e=new Oe({}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function ll(l){let e,n;return e=new Cn({}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function sl(l){let e,n,t,s,o;const i=[ll,nl],r=[];function p(c,d){return d&1&&(e=null),e==null&&(e=!!c[1](c[2](c[0]))),e?0:1}return n=p(l,-1),t=r[n]=i[n](l),{c(){t.c(),s=Se()},m(c,d){r[n].m(c,d),_(c,s,d),o=!0},p(c,d){let m=n;n=p(c,d),n!==m&&(Ce(),T(r[m],1,1,()=>{r[m]=null}),Te(),t=r[n],t||(t=r[n]=i[n](c),t.c()),y(t,1),t.m(s.parentNode,s))},i(c){o||(y(t),o=!0)},o(c){T(t),o=!1},d(c){r[n].d(c),c&&w(s)}}}function rl(l){let e,n,t,s,o,i;return e=new ae({props:{path:"/new",$$slots:{default:[el]},$$scope:{ctx:l}}}),t=new ae({props:{path:"/:id",$$slots:{default:[tl]},$$scope:{ctx:l}}}),o=new ae({props:{fallback:!0,$$slots:{default:[sl]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment),n=$(),D(t.$$.fragment),s=$(),D(o.$$.fragment)},m(r,p){I(e,r,p),_(r,n,p),I(t,r,p),_(r,s,p),I(o,r,p),i=!0},p(r,p){const c={};p&9&&(c.$$scope={dirty:p,ctx:r}),e.$set(c);const d={};p&8&&(d.$$scope={dirty:p,ctx:r}),t.$set(d);const m={};p&9&&(m.$$scope={dirty:p,ctx:r}),o.$set(m)},i(r){i||(y(e.$$.fragment,r),y(t.$$.fragment,r),y(o.$$.fragment,r),i=!0)},o(r){T(e.$$.fragment,r),T(t.$$.fragment,r),T(o.$$.fragment,r),i=!1},d(r){j(e,r),r&&w(n),j(t,r),r&&w(s),j(o,r)}}}function ol(l){let e;return{c(){e=f("p"),e.textContent="TODO"},m(n,t){_(n,e,t)},d(n){n&&w(e)}}}function il(l){let e,n;return e=new Oe({}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function al(l){let e,n;return e=new Sn({}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function cl(l){let e,n,t,s,o;const i=[al,il],r=[];function p(c,d){return d&1&&(e=null),e==null&&(e=!!c[1](c[2](c[0]))),e?0:1}return n=p(l,-1),t=r[n]=i[n](l),{c(){t.c(),s=Se()},m(c,d){r[n].m(c,d),_(c,s,d),o=!0},p(c,d){let m=n;n=p(c,d),n!==m&&(Ce(),T(r[m],1,1,()=>{r[m]=null}),Te(),t=r[n],t||(t=r[n]=i[n](c),t.c()),y(t,1),t.m(s.parentNode,s))},i(c){o||(y(t),o=!0)},o(c){T(t),o=!1},d(c){r[n].d(c),c&&w(s)}}}function ul(l){let e,n;return e=new Fn({}),{c(){D(e.$$.fragment)},m(t,s){I(e,t,s),n=!0},i(t){n||(y(e.$$.fragment,t),n=!0)},o(t){T(e.$$.fragment,t),n=!1},d(t){j(e,t)}}}function fl(l){let e,n,t,s,o,i,r,p,c,d,m,v,k,h;return e=new ae({props:{path:"/",$$slots:{default:[Vn]},$$scope:{ctx:l}}}),t=new ae({props:{path:"/learn",redirect:"/notes/Xx8lQw1q9xOUn1mB7CMagKHgv8XUy9NxsrQLtfqZItY"}}),o=new ae({props:{path:"/connect",$$slots:{default:[Zn]},$$scope:{ctx:l}}}),r=new ae({props:{path:"/notes/*",firstmatch:!0,$$slots:{default:[rl]},$$scope:{ctx:l}}}),c=new ae({props:{path:"/notes/:id/edit",$$slots:{default:[ol]},$$scope:{ctx:l}}}),m=new ae({props:{path:"/account",$$slots:{default:[cl]},$$scope:{ctx:l}}}),k=new ae({props:{path:"/404",$$slots:{default:[ul]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment),n=$(),D(t.$$.fragment),s=$(),D(o.$$.fragment),i=$(),D(r.$$.fragment),p=$(),D(c.$$.fragment),d=$(),D(m.$$.fragment),v=$(),D(k.$$.fragment)},m(b,g){I(e,b,g),_(b,n,g),I(t,b,g),_(b,s,g),I(o,b,g),_(b,i,g),I(r,b,g),_(b,p,g),I(c,b,g),_(b,d,g),I(m,b,g),_(b,v,g),I(k,b,g),h=!0},p(b,g){const E={};g&8&&(E.$$scope={dirty:g,ctx:b}),e.$set(E);const R={};g&9&&(R.$$scope={dirty:g,ctx:b}),o.$set(R);const L={};g&9&&(L.$$scope={dirty:g,ctx:b}),r.$set(L);const x={};g&8&&(x.$$scope={dirty:g,ctx:b}),c.$set(x);const P={};g&9&&(P.$$scope={dirty:g,ctx:b}),m.$set(P);const M={};g&8&&(M.$$scope={dirty:g,ctx:b}),k.$set(M)},i(b){h||(y(e.$$.fragment,b),y(t.$$.fragment,b),y(o.$$.fragment,b),y(r.$$.fragment,b),y(c.$$.fragment,b),y(m.$$.fragment,b),y(k.$$.fragment,b),h=!0)},o(b){T(e.$$.fragment,b),T(t.$$.fragment,b),T(o.$$.fragment,b),T(r.$$.fragment,b),T(c.$$.fragment,b),T(m.$$.fragment,b),T(k.$$.fragment,b),h=!1},d(b){j(e,b),b&&w(n),j(t,b),b&&w(s),j(o,b),b&&w(i),j(r,b),b&&w(p),j(c,b),b&&w(d),j(m,b),b&&w(v),j(k,b)}}}function pl(l){let e,n,t,s;return e=new qt({}),t=new jt({props:{$$slots:{default:[fl]},$$scope:{ctx:l}}}),{c(){D(e.$$.fragment),n=$(),D(t.$$.fragment)},m(o,i){I(e,o,i),_(o,n,i),I(t,o,i),s=!0},p(o,[i]){const r={};i&9&&(r.$$scope={dirty:i,ctx:o}),t.$set(r)},i(o){s||(y(e.$$.fragment,o),y(t.$$.fragment,o),s=!0)},o(o){T(e.$$.fragment,o),T(t.$$.fragment,o),s=!1},d(o){j(e,o),o&&w(n),j(t,o)}}}function dl(l,e,n){let t;ce(l,ue,i=>n(0,t=i));const{not:s,isEmpty:o}=Mt;return we.mode.hash(),we.subscribe(i=>window.scrollTo(0,0)),[t,s,o]}class ml extends ne{constructor(e){super();le(this,e,dl,pl,X,{})}}new ml({target:document.getElementById("app")});
