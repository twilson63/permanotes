import{w as Ge,S as te,i as ne,s as J,e as p,a as i,b as _,t as Y,c as ve,d as w,n as A,f as me,g as be,u as at,h as it,j as ct,k,l as ut,m as ft,o as x,p as Ee,q as Ne,r as Se,v as pt,x as dt,y as h,z as Le,A as u,B as mt,C as Q,D as H,E as M,F as O,_ as bt,G as _t,H as wt,I as Ie,J as He,K as We,L as G,M as ht,N as vt,O as $t,P as gt,Q as X,R as Be,T as et,U as tt,V as yt,W as kt,X as xt,Y as Tt,Z as Ct,$ as nt,a0 as je,a1 as lt,a2 as At,a3 as Ce,a4 as Nt,a5 as St,a6 as Oe,a7 as Pt,a8 as Et,a9 as ae,aa as Lt}from"./vendor.9a79a55b.js";const Rt=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};Rt();const _e=Ge(""),De=Ge({});function Ue(l){let e,n;return{c(){e=Y("Navigated to "),n=Y(l[0])},m(t,s){_(t,e,s),_(t,n,s)},p(t,s){s&1&&ve(n,t[0])},d(t){t&&w(e),t&&w(n)}}}function Ht(l){let e,n=l[0],t=Ue(l);return{c(){e=p("div"),t.c(),i(e,"aria-live","assertive"),i(e,"aria-atomic","true"),i(e,"class","svelte-16o3jxi")},m(s,r){_(s,e,r),t.m(e,null)},p(s,[r]){r&1&&J(n,n=s[0])?(t.d(1),t=Ue(s),t.c(),t.m(e,null)):t.p(s,r)},i:A,o:A,d(s){s&&w(e),t.d(s)}}}function Mt(l,e,n){let t,s;return me(l,be,r=>n(1,s=r)),l.$$.update=()=>{l.$$.dirty&2&&n(0,t=s.path==="/"?"Home":s.path.slice(1))},[t,s]}class Ot extends te{constructor(e){super();ne(this,e,Mt,Ht,J,{})}}function Ke(l){let e,n,t;const s=l[2].default,r=pt(s,l,l[1],null);return{c(){e=p("div"),r&&r.c()},m(a,o){_(a,e,o),r&&r.m(e,null),t=!0},p(a,o){r&&r.p&&(!t||o&2)&&at(r,s,a,a[1],t?ct(s,a[1],o,null):it(a[1]),null)},i(a){t||(k(r,a),n||ut(()=>{n=ft(e,dt,{duration:700}),n.start()}),t=!0)},o(a){x(r,a),t=!1},d(a){a&&w(e),r&&r.d(a)}}}function Dt(l){let e=l[0].path,n,t,s=Ke(l);return{c(){s.c(),n=Ee()},m(r,a){s.m(r,a),_(r,n,a),t=!0},p(r,[a]){a&1&&J(e,e=r[0].path)?(Ne(),x(s,1,1,A),Se(),s=Ke(r),s.c(),k(s),s.m(n.parentNode,n)):s.p(r,a)},i(r){t||(k(s),t=!0)},o(r){x(s),t=!1},d(r){r&&w(n),s.d(r)}}}function qt(l,e,n){let t;me(l,be,a=>n(0,t=a));let{$$slots:s={},$$scope:r}=e;return l.$$set=a=>{"$$scope"in a&&n(1,r=a.$$scope)},[t,r,s]}class jt extends te{constructor(e){super();ne(this,e,qt,Dt,J,{})}}function It(l){let e,n,t,s,r,a,o;return{c(){e=p("div"),n=p("div"),n.innerHTML=`<div class="max-w-md"><figure class="flex items-center justify-center"><img class="w-64 rounded-lg" src="permanote.png" alt="logo"/></figure> 

      <h1 class="mt-8 text-5xl"><span class="uppercase text-primary">PermaNotes</span></h1> 
      <div class="flex mt-8 space-x-2"><h2 class="text-3xl text-secondary">\u2728 CREATE</h2> 
        <h2 class="text-3xl text-primary">\u{1F5C4} STORE</h2> 
        <h2 class="text-3xl text-accent">\u{1F9E0} SHARE</h2></div> 
      <div class="mt-16 space-x-4"><a href="/connect" class="btn btn-primary">Connect</a> 
        <a href="/notes/Xx8lQw1q9xOUn1mB7CMagKHgv8XUy9NxsrQLtfqZItY" class="btn btn-outline btn-secondary">Learn More</a></div></div>`,t=h(),s=p("div"),r=p("figure"),a=p("img"),i(n,"class","hero-content text-center"),Le(a.src,o=window.matchMedia("(prefers-color-scheme: dark)").matches?"ar-light.png":"ar-dark.png")||i(a,"src",o),i(a,"alt","permanent"),i(s,"class","absolute bottom-8 left-8"),i(e,"class","hero min-h-screen bg-base-200")},m(f,c){_(f,e,c),u(e,n),u(e,t),u(e,s),u(s,r),u(r,a)},p:A,i:A,o:A,d(f){f&&w(e)}}}class Wt extends te{constructor(e){super();ne(this,e,null,It,J,{})}}function Bt(l){let e,n,t,s,r,a,o,f;return{c(){e=p("li"),e.innerHTML='<a href="/notes">Notes</a>',n=h(),t=p("li"),t.innerHTML='<a href="/account">Account</a>',s=h(),r=p("li"),a=p("button"),a.textContent="Disconnect",i(a,"class","btn btn-ghost")},m(c,m){_(c,e,m),_(c,n,m),_(c,t,m),_(c,s,m),_(c,r,m),u(r,a),o||(f=Q(a,"click",l[1]),o=!0)},p:A,d(c){c&&w(e),c&&w(n),c&&w(t),c&&w(s),c&&w(r),o=!1,f()}}}function Ut(l){let e;return{c(){e=p("li"),e.innerHTML='<a href="/connect">Connect</a>'},m(n,t){_(n,e,t)},p:A,d(n){n&&w(e)}}}function Kt(l){let e,n,t,s,r,a,o,f;function c(v,g){return g&1&&(f=null),f==null&&(f=!!mt(v[0])),f?Ut:Bt}let m=c(l,-1),d=m(l);return{c(){e=p("div"),n=p("div"),n.innerHTML='<a href="/" class="btn btn-ghost normal-case text-xl">PERMA NOTES</a>',t=h(),s=p("div"),r=p("ul"),a=p("li"),a.innerHTML='<a href="/notes/Xx8lQw1q9xOUn1mB7CMagKHgv8XUy9NxsrQLtfqZItY">Learn</a>',o=h(),d.c(),i(n,"class","flex-1"),i(r,"class","menu menu-horizontal p-0"),i(s,"class","flex-none"),i(e,"class","navbar bg-base-100")},m(v,g){_(v,e,g),u(e,n),u(e,t),u(e,s),u(s,r),u(r,a),u(r,o),d.m(r,null)},p(v,[g]){m===(m=c(v,g))&&d?d.p(v,g):(d.d(1),d=m(v),d&&(d.c(),d.m(r,null)))},i:A,o:A,d(v){v&&w(e),d.d()}}}function Yt(l,e,n){let t;me(l,_e,r=>n(0,t=r));function s(){window.arweaveWallet&&window.arweaveWallet.disconnect(),_e.set(""),be.goto("/connect")}return[t,s]}class xe extends te{constructor(e){super();ne(this,e,Yt,Kt,J,{})}}function Ft(l){let e,n,t,s;return e=new xe({}),{c(){H(e.$$.fragment),n=h(),t=p("main"),t.innerHTML=`<section class="mt-8 text-gray-700 relative w-full px-6 py-12 bg-white shadow-xl shadow-slate-700/10 ring-1 ring-gray-900/5 md:max-w-3xl md:mx-auto lg:max-w-4xl lg:pt-16 lg:pb-28"><h2 class="text-3xl">About</h2> 
    <p class="mt-8">PermaNotes is a responsive application that provides a permanent storage
      space for every note you can think of creating. This application focuses
      on simplicity and accessibility, so that you can quickly access notes that
      you have created over time.</p> 
    <h3 class="mt-8 text-xl">Features</h3> 
    <div class="flex flex-wrap"><div class="card md:w-1/3"><div class="card-body"><h2 class="card-title">Privacy</h2> 
          <p>By default, every note you create is private, this means that the
            contents of the note will be encrypted using your wallets private
            key. By encrypting the content, only you will be able to read and
            modify the note.</p></div></div> 
      <div class="card md:w-1/3"><div class="card-body"><h2 class="card-title">Sharability</h2> 
          <p>There are times you may want to share your notes with others. With
            permanotes you can share any note, with any registered user.</p></div></div> 
      <div class="card md:w-1/3"><div class="card-body"><h2 class="card-title">Publishability</h2> 
          <p>Want to share your thoughts with the world, publish your note and
            permanotes will create a public url for you to share.</p></div></div></div> 
    <h3 class="mt-8 text-xl">Getting Started</h3> 
    <p class="mt-8">How do I get started?</p> 
    <p class="mt-4">PermaNotes is a pay as you go platform, it is important to register, and
      you will need a wallet \`ArConnect\` with some \`AR\`. The \`AR\` is the crypto
      token native to the permaweb, and in order to use any application on the
      permaweb, you need \`AR\`.</p> 
    <p>After you have your wallet and some AR, you need to <a href="/register">register</a>. The registration process will connect your wallet to an account and
      create a set of keys that will be used to encrypt and decrypt your notes.</p></section>`},m(r,a){M(e,r,a),_(r,n,a),_(r,t,a),s=!0},p:A,i(r){s||(k(e.$$.fragment,r),s=!0)},o(r){x(e.$$.fragment,r),s=!1},d(r){O(e,r),r&&w(n),r&&w(t)}}}class Qt extends te{constructor(e){super();ne(this,e,null,Ft,J,{})}}const Vt="cwElAMnBqu2fp-TUsV9lBIZJi-DRZ5tQJgJqxhFjqNY",Jt=".004",zt=new bt,ee=new _t.init({host:{}.VITE_ARWEAVE||"arweave.net",port:"443",protocol:"https"});let de=null;const Zt=()=>(de=new wt({name:"permanotes",logo:"https://via.placeholder.com/200"}),de.setUrl("https://arweave.app"),de.connect()),qe=async l=>await zt.get(l),st=l=>ee.api.get(l).then(async e=>{if(!e.data.public)if(de){const n=Object.values(e.data.content),t=new Uint8Array(n.slice(0,512)),s=new Uint8Array(n.slice(512)),r=await nn(t),a=ee.utils.bufferToString(await ee.crypto.decrypt(s,r));e.data.content=a}else e.data.content=await arweaveWallet.decrypt(new Uint8Array(Object.values(e.data.content)),{algorithm:"RSA-OAEP",hash:"SHA-256"});return e.data}),Xt=async l=>{if(!l.public)if(de){const r=new TextEncoder().encode(l.content),a=ln(),o=await ee.crypto.encrypt(r,a),f=await de.getPublicKey(),c=await sn(f),m=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},c,a);l.content=ee.utils.concatBuffers([m,o])}else l.content=await arweaveWallet.encrypt(l.content,{algorithm:"RSA-OAEP",hash:"SHA-256"});const e=await Ie.readContract(ee,Vt),n=Ie.selectWeightedPstHolder(e.balances),t=await ee.createTransaction({data:JSON.stringify(l),target:n,quantity:ee.ar.arToWinston(Jt)});return t.addTag("Content-Type","application/json"),t.addTag("App-Name","PermaNotes"),t.addTag("Protocol",l.protocol),t.addTag("Note-Title",l.title),t.addTag("Description",l.description),t.addTag("Note-Topic",l.topic),t.addTag("Note-Rev",l.rev),t.addTag("Timestamp",new Date().toISOString()),await ee.transactions.sign(t),await ee.transactions.post(t),t},Gt=l=>ee.api.post("graphql",{query:l}),en=async l=>{var t,s;let e=0,n=null;for(;!n;){e+=1,console.log(`attempt ${e}`),await tn(2e3*e);const r=await ee.api.post("graphql",{query:`
query {
  transaction(id: "${l}") {
    id
  }
}
    `});if((s=(t=r==null?void 0:r.data)==null?void 0:t.data)!=null&&s.transaction&&(n=r.data.data.transaction.id===l),e>10)break}return n};function tn(l){return new Promise(e=>setTimeout(e,l))}async function nn(l){if(de!=null)return console.log(de),await de.decrypt(l,{name:"RSA-OAEP"});throw"Cannot perform RSA decryption with ArConnect"}function ln(){const l=new Uint8Array(256);return crypto.getRandomValues(l)}async function sn(l){console.log(l);const e={kty:"RSA",e:"AQAB",n:l,alg:"RSA-OAEP-256",ext:!0},n={name:"RSA-OAEP",hash:{name:"SHA-256"}};return crypto.subtle.importKey("jwk",e,n,!1,["encrypt"])}function rn(l){let e,n,t,s,r,a,o,f,c,m,d,v,g,y,b,$,L;return e=new xe({}),{c(){H(e.$$.fragment),n=h(),t=p("main"),s=p("section"),r=p("div"),a=p("div"),o=p("h1"),o.textContent="Connect Wallet",f=h(),c=p("div"),m=p("div"),m.innerHTML=`<figure class="px-10 pt-10 bg-gray-400" style="height: 168px;"><img height="128px" src="https://bgwysvp67cg4wxfsvgktephcajni7ggdsa7kgpo5rl637avdlc2a.arweave.net/Ca2JVf74jctcsqmVMjziAlqPmMOQPqM93Yr9v4KjWLQ" alt="arconnect logo" class="rounded-xl"/></figure> 
            <div class="card-body"><h2 class="card-title">ArConnect</h2></div>`,d=h(),v=p("div"),v.innerHTML=`<figure class="px-10 pt-10 bg-gray-400" style="height: 168px;"><img src="https://tgbcqufuppegmlhigt2zosiv2q55qty4t4rg2gebmfm4vpvf.arweave.net/mYIoULR7yGYs_6DT1_l0kV1DvYTxyfIm0YgWFZyr6l0" alt="arweave logo" class="rounded-x1"/></figure> 
            <div class="card-body"><h2 class="card-title">ArWeave App</h2></div>`,g=h(),y=p("div"),y.innerHTML=`<p>Need help?</p> 
          <p>If you are new to ARWeave and don&#39;t understand what a wallet is? How
            do I get a wallet? Etc? Click <a href="/learn">here</a> to learn more
            about web3 and ArWeave</p>`,i(o,"class","text-6xl"),i(m,"class","card bg-base-100 shadow-xl hover:border"),i(v,"class","card bg-base-100 shadow-xl hover:border"),i(c,"class","mt-16 flex space-x-4"),i(y,"class","mt-16"),i(a,"class","max-w-md"),i(r,"class","hero-content text-center"),i(s,"class","hero min-h-screen bg-base-200")},m(S,j){M(e,S,j),_(S,n,j),_(S,t,j),u(t,s),u(s,r),u(r,a),u(a,o),u(a,f),u(a,c),u(c,m),u(c,d),u(c,v),u(a,g),u(a,y),b=!0,$||(L=[Q(m,"click",l[1]),Q(v,"click",l[0])],$=!0)},p:A,i(S){b||(k(e.$$.fragment,S),b=!0)},o(S){x(e.$$.fragment,S),b=!1},d(S){O(e,S),S&&w(n),S&&w(t),$=!1,He(L)}}}function on(l){async function e(){const t=await Zt().catch(r=>""),s=await qe(t);_e.set(t),De.set(s),be.goto("/account")}async function n(){window.arweaveWallet===void 0&&(window.location.href="https://arconnect.io"),await arweaveWallet.connect(["ACCESS_ADDRESS","ACCESS_PUBLIC_KEY","SIGN_TRANSACTION","DISPATCH","ENCRYPT","DECRYPT"],{name:"PermaNotes"});const t=await arweaveWallet.getActiveAddress(),s=await qe(t);_e.set(t),De.set(s),be.goto("/account")}return[e,n]}class Me extends te{constructor(e){super();ne(this,e,on,rn,J,{})}}function an(l){let e,n,t,s,r,a,o,f,c,m=l[3].length>0?`#${l[3]}`:"",d,v,g,y=(l[2]||"")+"",b,$,L,S,j=We(new Date(l[4]),new Date,{addSuffix:!0})+"",R,I,q,N,K;return{c(){e=p("div"),n=p("div"),t=p("div"),s=p("h2"),r=Y(l[1]),a=h(),o=p("div"),f=p("div"),c=p("p"),d=Y(m),v=h(),g=p("p"),b=Y(y),$=h(),L=p("div"),S=p("p"),R=Y(j),I=h(),q=p("a"),N=Y("View"),i(s,"class","card-title flex-1"),i(c,"class",""),i(f,"class","flex"),i(o,"class","flex-none"),i(t,"class","flex"),i(S,"class","mt-4"),i(q,"class","btn btn-primary"),i(q,"href",K="/notes/"+l[0]),i(L,"class","card-actions justify-end"),i(n,"class","card-body"),i(e,"class","card bg-base-100 shadow-xl")},m(B,C){_(B,e,C),u(e,n),u(n,t),u(t,s),u(s,r),u(t,a),u(t,o),u(o,f),u(f,c),u(c,d),u(n,v),u(n,g),u(g,b),u(n,$),u(n,L),u(L,S),u(S,R),u(L,I),u(L,q),u(q,N)},p(B,[C]){C&2&&ve(r,B[1]),C&8&&m!==(m=B[3].length>0?`#${B[3]}`:"")&&ve(d,m),C&4&&y!==(y=(B[2]||"")+"")&&ve(b,y),C&16&&j!==(j=We(new Date(B[4]),new Date,{addSuffix:!0})+"")&&ve(R,j),C&1&&K!==(K="/notes/"+B[0])&&i(q,"href",K)},i:A,o:A,d(B){B&&w(e)}}}function cn(l,e,n){let{id:t,title:s,description:r,topic:a,timestamp:o}=e;return l.$$set=f=>{"id"in f&&n(0,t=f.id),"title"in f&&n(1,s=f.title),"description"in f&&n(2,r=f.description),"topic"in f&&n(3,a=f.topic),"timestamp"in f&&n(4,o=f.timestamp)},[t,s,r,a,o]}class un extends te{constructor(e){super();ne(this,e,cn,an,J,{id:0,title:1,description:2,topic:3,timestamp:4})}}function fn(l){let e;return{c(){e=p("form"),e.innerHTML=`<div class="card-body"><h2 class="card-title">Search for Note</h2> 
    <div class="form-control w-full max-w-xs"><input placeholder="Enter Title, Description, or Topic" type="text" class="input input-bordered w-full"/></div> 
    <div class="card-actions justify-end"><button type="submit" class="btn btn-primary">Search</button></div></div>`,i(e,"class","card bg-base-100 shadow-xl w-full")},m(n,t){_(n,e,t)},p:A,i:A,o:A,d(n){n&&w(e)}}}class pn extends te{constructor(e){super();ne(this,e,null,fn,J,{})}}const dn=G.object({id:G.string().optional(),type:G.literal("note").default("note"),owner:G.string(),rev:G.string().default("1"),contentType:G.literal("text/markdown").default("text/markdown"),title:G.string().max(20),description:G.string().max(50),protocol:G.literal("PermaNotes-v0.1").default("PermaNotes-v0.1"),content:G.string(),public:G.boolean().default(!1),topic:G.string().optional(),timestamp:G.string(),likeContract:G.string().optional()}),Ae=l=>ht(gt("value"),vt($t("name",l))),mn=l=>{const e=Ae("Timestamp")(l.tags),n=e||new Date().toISOString();return{id:l.id,owner:l.owner.address,type:Ae("Type")(l.tags),title:Ae("Note-Title")(l.tags),description:Ae("Description")(l.tags),topic:Ae("Note-Topic")(l.tags),rev:Ae("Note-Rev")(l.tags),timestamp:n}},bn=l=>{l.timestamp=new Date().toISOString();const e=dn.safeParse(l);return e.success?X.Resolved(e.data):X.Rejected(e.error.flatten())};function Re({post:l,waitfor:e,gql:n,load:t,account:s,likes:r}){const a=X.fromPromise(async b=>b.public?Be("likeContract",await r.create(),b):b),o=X.fromPromise(async b=>{try{return b.public?Be("likes",await r.likes(b.likeContract),b):b}catch($){return console.log("Error",$),b}});async function f(b){return X.of(b).chain(bn).chain(a).chain(X.fromPromise(l)).chain($=>X.fromPromise(e)($.id)).toPromise()}async function c(b){return X.of(b).map(_n).chain(X.fromPromise(n)).map(Fe).map(Ye).toPromise()}async function m(b){return X.of(b).map(wn).chain(X.fromPromise(n)).map(Fe).map(Ye).toPromise()}async function d(b){return X.of(b).chain(X.fromPromise(t)).chain(o).toPromise()}async function v(b){return X.of(b).chain(X.fromPromise(s)).map(et(["profile","name"])).toPromise()}function g(b,$){return r.like(b,$)}function y(b,$){return r.unlike(b,$)}return{create:f,byOwner:c,byTopic:m,get:d,getHandle:v,like:g,unlike:y}}function Ye(l){return tt(yt,kt(xt("timestamp")),Tt(mn))(l)}function Fe(l){return tt(Ct("node"),et(["data","data","transactions","edges"]))(l)}function _n(l){return`
query {
  transactions(owners: ["${l}"], tags: { name: "Protocol", values: ["PermaNotes-v0.1"]}) {
    edges {
      node {
        id
        owner {
          address
        }
        tags {
          name
          value
        }
      }
    }
  }
}
  `}function wn(l){return`
query {
  transactions(tags: [
    { name: "Protocol", values: ["PermaNotes-v0.1"]},
    { name: "Note-Topic", values: ["${l}"]}
  ]) {
    edges {
      node {
        id
        owner {
          address
        }
        tags {
          name
          value
        }
      }
    }
  }
}
  `}function Qe(l,e,n){const t=l.slice();return t[14]=e[n],t}function Ve(l){let e,n;return e=new pn({}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function hn(l){return{c:A,m:A,p:A,i:A,o:A,d:A}}function vn(l){let e,n,t=l[13],s=[];for(let a=0;a<t.length;a+=1)s[a]=Je(Qe(l,t,a));const r=a=>x(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=Ee()},m(a,o){for(let f=0;f<s.length;f+=1)s[f].m(a,o);_(a,e,o),n=!0},p(a,o){if(o&16){t=a[13];let f;for(f=0;f<t.length;f+=1){const c=Qe(a,t,f);s[f]?(s[f].p(c,o),k(s[f],1)):(s[f]=Je(c),s[f].c(),k(s[f],1),s[f].m(e.parentNode,e))}for(Ne(),f=t.length;f<s.length;f+=1)r(f);Se()}},i(a){if(!n){for(let o=0;o<t.length;o+=1)k(s[o]);n=!0}},o(a){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)x(s[o]);n=!1},d(a){At(s,a),a&&w(e)}}}function Je(l){let e,n;return e=new un({props:{id:l[14].id,title:l[14].title,description:l[14].description,topic:l[14].topic,timestamp:l[14].timestamp}}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},p:A,i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function $n(l){return{c:A,m:A,p:A,i:A,o:A,d:A}}function gn(l){let e,n,t,s,r,a,o,f,c,m,d,v,g,y,b,$,L,S,j,R,I,q,N,K,B,C,T,W,F,ie,$e,Te,ge,we,z,ye,Z,le,oe,re,ce,Pe,he,ue,fe,pe,ke,V,E;e=new xe({});let D=l[0]&&Ve(),se={ctx:l,current:null,token:null,hasCatch:!1,pending:$n,then:vn,catch:hn,value:13,blocks:[,,,]};return nt(l[4](),se),K=new je({props:{size:"60",color:"rebeccapurple",unit:"px",duration:"2s"}}),{c(){H(e.$$.fragment),n=h(),t=p("main"),s=p("section"),r=p("div"),D&&D.c(),a=h(),o=p("div"),f=p("h1"),f.textContent="Notes",c=h(),m=p("div"),d=p("button"),d.innerHTML='<img src="search.svg" alt="search button" style="width: 32px;"/>',v=h(),g=p("a"),g.textContent="New Note",y=h(),b=p("div"),se.block.c(),$=h(),L=p("input"),S=h(),j=p("div"),R=p("div"),I=p("h3"),I.textContent="Loading Notes",q=h(),N=p("div"),H(K.$$.fragment),B=h(),C=p("input"),T=h(),W=p("div"),F=p("div"),ie=p("h3"),ie.textContent="Setup Favorites",$e=h(),Te=p("p"),Te.textContent=`Every time you like a public note, you can include it in your favorites
      list, in order to create your favorites list just click 'Setup'`,ge=h(),we=p("div"),z=p("button"),z.textContent="Setup Favorite",ye=h(),Z=p("input"),le=h(),oe=p("div"),re=p("div"),ce=p("h3"),ce.textContent="Feature available soon!",Pe=h(),he=p("p"),he.textContent=`This feature will allow users to enter a topic to find public notes and
      their private notes for that topic.`,ue=h(),fe=p("div"),pe=p("button"),pe.textContent="OK",i(f,"class","text-2xl flex-1"),i(d,"class","btn btn-ghost"),i(g,"href","/notes/new"),i(g,"class","btn btn-primary"),i(m,"class","flex-none flex space-x-4"),i(o,"class","flex w-full"),i(b,"class","flex flex-col space-y-4 w-full"),i(r,"class","hero-content flex-col w-full"),i(s,"class","hero bg-base-200 min-h-screen items-start"),i(L,"type","checkbox"),i(L,"id","save-note"),i(L,"class","modal-toggle"),i(I,"class","font-bold text-lg"),i(N,"class","flex items-center justify-center"),i(R,"class","modal-box"),i(j,"class","modal"),i(C,"type","checkbox"),i(C,"id","setup-favorites"),i(C,"class","modal-toggle"),i(ie,"class","font-bold text-lg"),i(z,"class","btn btn-primary"),i(we,"class","flex items-center justify-center"),i(F,"class","modal-box"),i(W,"class","modal"),i(Z,"type","checkbox"),i(Z,"id","by-topic"),i(Z,"class","modal-toggle"),i(ce,"class","font-bold text-lg"),i(pe,"class","btn btn-primary"),i(fe,"class","flex items-center justify-center"),i(re,"class","modal-box"),i(oe,"class","modal")},m(P,U){M(e,P,U),_(P,n,U),_(P,t,U),u(t,s),u(s,r),D&&D.m(r,null),u(r,a),u(r,o),u(o,f),u(o,c),u(o,m),u(m,d),u(m,v),u(m,g),u(r,y),u(r,b),se.block.m(b,se.anchor=null),se.mount=()=>b,se.anchor=null,_(P,$,U),_(P,L,U),L.checked=l[1],_(P,S,U),_(P,j,U),u(j,R),u(R,I),u(R,q),u(R,N),M(K,N,null),_(P,B,U),_(P,C,U),C.checked=l[2],_(P,T,U),_(P,W,U),u(W,F),u(F,ie),u(F,$e),u(F,Te),u(F,ge),u(F,we),u(we,z),_(P,ye,U),_(P,Z,U),Z.checked=l[3],_(P,le,U),_(P,oe,U),u(oe,re),u(re,ce),u(re,Pe),u(re,he),u(re,ue),u(re,fe),u(fe,pe),ke=!0,V||(E=[Q(d,"click",l[5]),Q(L,"change",l[6]),Q(C,"change",l[7]),Q(z,"click",l[8]),Q(Z,"change",l[9]),Q(pe,"click",l[10])],V=!0)},p(P,[U]){l=P,l[0]?D?U&1&&k(D,1):(D=Ve(),D.c(),k(D,1),D.m(r,a)):D&&(Ne(),x(D,1,1,()=>{D=null}),Se()),lt(se,l,U),U&2&&(L.checked=l[1]),U&4&&(C.checked=l[2]),U&8&&(Z.checked=l[3])},i(P){ke||(k(e.$$.fragment,P),k(D),k(se.block),k(K.$$.fragment,P),ke=!0)},o(P){x(e.$$.fragment,P),x(D);for(let U=0;U<3;U+=1){const ot=se.blocks[U];x(ot)}x(K.$$.fragment,P),ke=!1},d(P){O(e,P),P&&w(n),P&&w(t),D&&D.d(),se.block.d(),se.token=null,se=null,P&&w($),P&&w(L),P&&w(S),P&&w(j),O(K),P&&w(B),P&&w(C),P&&w(T),P&&w(W),P&&w(ye),P&&w(Z),P&&w(le),P&&w(oe),V=!1,He(E)}}}function yn(l,e,n){let t;me(l,_e,b=>n(11,t=b));let s=!1,r=!0,a=!1,o=!1;async function f(){try{n(1,r=!0);const b=await Re({gql:Gt}).byOwner(t);return n(1,r=!1),b}catch(b){return n(1,r=!1),alert(b.message),[]}}const c=()=>{n(0,s=!s)};function m(){r=this.checked,n(1,r)}function d(){a=this.checked,n(2,a)}const v=()=>n(2,a=!1);function g(){o=this.checked,n(3,o)}return[s,r,a,o,f,c,m,d,v,g,()=>n(3,o=!1)]}class kn extends te{constructor(e){super();ne(this,e,yn,gn,J,{})}}function xn(l){let e,n,t,s,r,a;return{c(){e=p("h1"),n=Y(l[0]),t=h(),s=p("p"),s.textContent="Profile not found!",r=h(),a=p("p"),a.innerHTML='Create a profile at <a class="underline" href="https://arweave.net/HOHBm7vNOoDds4uah2Du2jr7nsELJx9V0C0h54MYLes">Arweave Account</a>',i(e,"class","text-6xl")},m(o,f){_(o,e,f),u(e,n),_(o,t,f),_(o,s,f),_(o,r,f),_(o,a,f)},p(o,f){f&1&&ve(n,o[0])},d(o){o&&w(e),o&&w(t),o&&w(s),o&&w(r),o&&w(a)}}}function Tn(l){let e,n,t,s,r,a,o,f;return{c(){e=p("img"),t=h(),s=p("h1"),s.textContent=`${l[1].name}`,r=h(),a=p("p"),a.textContent=`${l[1].bio}`,o=h(),f=p("div"),f.innerHTML=`<a href="/notes" class="btn btn-primary">My Notes</a> 
          <a href="/notes/new" class="btn">New Note</a>`,Le(e.src,n=`https://arweave.net/${l[1].avatar}`)||i(e,"src",n),i(e,"alt",l[1].name),i(s,"class","text-6xl"),i(f,"class","flex space-x-8")},m(c,m){_(c,e,m),_(c,t,m),_(c,s,m),_(c,r,m),_(c,a,m),_(c,o,m),_(c,f,m)},p:A,d(c){c&&w(e),c&&w(t),c&&w(s),c&&w(r),c&&w(a),c&&w(o),c&&w(f)}}}function Cn(l){let e,n,t,s,r,a;e=new xe({});function o(m,d){return m[1]?Tn:xn}let c=o(l)(l);return{c(){H(e.$$.fragment),n=h(),t=p("main"),s=p("section"),r=p("div"),c.c(),i(r,"class","hero-content flex-col"),i(s,"class","hero min-h-screen bg-base-200")},m(m,d){M(e,m,d),_(m,n,d),_(m,t,d),u(t,s),u(s,r),c.m(r,null),a=!0},p(m,[d]){c.p(m,d)},i(m){a||(k(e.$$.fragment,m),a=!0)},o(m){x(e.$$.fragment,m),a=!1},d(m){O(e,m),m&&w(n),m&&w(t),c.d()}}}function An(l,e,n){let t,s;me(l,De,a=>n(2,t=a)),me(l,_e,a=>n(0,s=a));const r=t.profile;return[s,r]}class Nn extends te{constructor(e){super();ne(this,e,An,Cn,J,{})}}const{SmartWeaveWebFactory:Sn,LoggerFactory:Pn}=rsdk,En="Hljxh8rYyXCb45BYULHb6KhUDnRkxc4ZUaUDCUkOP_w";Pn.INST.logLevel("fatal");function rt(l){const e=Sn.memCachedBased(l).useRedStoneGateway({notCorrupted:!0}).build();function n(){return e.createContract.deployFromSourceTx({initState:JSON.stringify({addresses:[]}),srcTxId:En},!0)}function t(o="",f=""){if(o==="")throw new Error("contract can not be empty!");if(f==="")throw new Error("address can not be empty!");return e.contract(o).connect("use_wallet").bundleInteraction({function:"like",transfer:{target:f,winstonQty:"1000000000"}}).then(c=>(console.log(c),c))}function s(o="",f=""){if(o==="")throw new Error("contract can not be empty!");if(f==="")throw new Error("address can not be empty!");return e.contract(o).connect("use_wallet").bundleInteraction({function:"unlike",transfer:{target:f,winstonQty:"1000000000"}})}function r(o){return e.contract(o).connect("use_wallet").readState().then(({state:f})=>f.addresses)}function a(o,f){return e.contract(o).connect("use_wallet").readState().then(({state:c})=>c.addresses.includes(f))}return{create:n,like:t,unlike:s,likes:r,liked:a}}function ze(l){let e,n;return{c(){e=p("div"),n=Y(l[0]),i(e,"class","alert alert-error")},m(t,s){_(t,e,s),u(e,n)},p(t,s){s&1&&ve(n,t[0])},d(t){t&&w(e)}}}function Ln(l){let e,n,t,s,r,a,o,f,c,m,d,v,g,y,b,$,L,S,j,R,I,q,N,K,B,C,T,W,F,ie,$e,Te,ge,we,z,ye,Z,le,oe,re,ce,Pe,he,ue,fe,pe,ke;e=new xe({});let V=l[0]&&ze(l);return ue=new je({props:{size:"60",color:"rebeccapurple",unit:"px",duration:"2s"}}),{c(){H(e.$$.fragment),n=h(),t=p("main"),s=p("section"),r=p("div"),V&&V.c(),a=h(),o=p("form"),f=p("div"),c=p("label"),c.textContent="Title",m=h(),d=p("input"),v=h(),g=p("div"),y=p("label"),y.textContent="Description",b=h(),$=p("input"),L=h(),S=p("div"),S.innerHTML=`<label for="content" class="label">Content(markdown)</label> 
          <textarea class="textarea textarea-bordered textarea-secondary bg-white" id="content" name="content"></textarea>`,j=h(),R=p("div"),I=p("label"),I.textContent="Topic",q=h(),N=p("input"),K=h(),B=p("div"),C=p("label"),T=p("span"),T.textContent=`Public (if marked public the note will be unencrypted and
              viewable by everyone.)`,W=h(),F=p("input"),ie=h(),$e=p("p"),$e.textContent=`When you create a note, it will be posted on the permaweb, and can
          never be removed, if you choose to keep it private it will be
          encrypted by your wallet.`,Te=h(),ge=p("div"),ge.innerHTML=`<button type="submit" class="btn">Create Note</button> 
          <a class="btn" href="/notes">Cancel</a>`,we=h(),z=p("input"),ye=h(),Z=p("div"),le=p("div"),oe=p("h3"),oe.textContent="Saving Note to Arweave",re=h(),ce=p("p"),ce.textContent=`This should only take a few seconds to store your note on the Permaweb.
      Once successfully stored, it will be stored forever.`,Pe=h(),he=p("div"),H(ue.$$.fragment),i(c,"for","title"),i(c,"class","label"),d.required=!0,i(d,"class","input input-bordered"),i(d,"id","title"),i(d,"name","title"),i(d,"maxlength","20"),i(d,"placeholder","Enter title of your note (max: 20 characters)"),i(f,"class","form-control"),i(y,"for","description"),i(y,"class","label"),$.required=!0,i($,"class","input input-bordered"),i($,"id","description"),i($,"name","description"),i($,"maxlength","50"),i($,"placeholder","Enter a 50 character description of your note."),i(g,"class","form-control"),i(S,"class","form-control"),i(I,"for","topic"),i(I,"class","label"),i(N,"class","input input-bordered"),i(N,"id","topic"),i(N,"name","topic"),i(N,"placeholder","(optional) Enter a topic for your note."),i(R,"class","form-control"),i(T,"class","label-text"),i(F,"type","checkbox"),i(F,"class","toggle toggle-secondary"),i(C,"for","public"),i(C,"class","label cursor-pointer"),i(B,"class","mt-4 form-control"),i($e,"class","mt-4 alert alert-info"),i(ge,"class","mt-8"),i(o,"class","w-full"),i(r,"class","hero-content flex-col"),i(s,"class","hero bg-base-100 min-h-screen"),i(z,"type","checkbox"),i(z,"id","save-note"),i(z,"class","modal-toggle"),i(oe,"class","font-bold text-lg"),i(ce,"class","py-4"),i(he,"class","flex items-center justify-center"),i(le,"class","modal-box"),i(Z,"class","modal")},m(E,D){M(e,E,D),_(E,n,D),_(E,t,D),u(t,s),u(s,r),V&&V.m(r,null),u(r,a),u(r,o),u(o,f),u(f,c),u(f,m),u(f,d),Ce(d,l[2].title),u(o,v),u(o,g),u(g,y),u(g,b),u(g,$),Ce($,l[2].description),u(o,L),u(o,S),u(o,j),u(o,R),u(R,I),u(R,q),u(R,N),Ce(N,l[2].topic),u(o,K),u(o,B),u(B,C),u(C,T),u(C,W),u(C,F),F.checked=l[2].public,u(o,ie),u(o,$e),u(o,Te),u(o,ge),_(E,we,D),_(E,z,D),z.checked=l[1],_(E,ye,D),_(E,Z,D),u(Z,le),u(le,oe),u(le,re),u(le,ce),u(le,Pe),u(le,he),M(ue,he,null),fe=!0,pe||(ke=[Q(d,"input",l[4]),Q($,"input",l[5]),Q(N,"input",l[6]),Q(F,"change",l[7]),Q(o,"submit",Nt(l[3])),Q(z,"change",l[8])],pe=!0)},p(E,[D]){E[0]?V?V.p(E,D):(V=ze(E),V.c(),V.m(r,a)):V&&(V.d(1),V=null),D&4&&d.value!==E[2].title&&Ce(d,E[2].title),D&4&&$.value!==E[2].description&&Ce($,E[2].description),D&4&&N.value!==E[2].topic&&Ce(N,E[2].topic),D&4&&(F.checked=E[2].public),D&2&&(z.checked=E[1])},i(E){fe||(k(e.$$.fragment,E),k(ue.$$.fragment,E),fe=!0)},o(E){x(e.$$.fragment,E),x(ue.$$.fragment,E),fe=!1},d(E){O(e,E),E&&w(n),E&&w(t),V&&V.d(),E&&w(we),E&&w(z),E&&w(ye),E&&w(Z),O(ue),pe=!1,He(ke)}}}function Rn(l,e,n){let t;me(l,_e,y=>n(10,t=y));var s=null;let r=null,a=!1;St(()=>{s=new window.EasyMDE({autosave:{enabled:!0,uniqueId:"new-permanote"},previewClass:"bg-base-200 p-4 prose prose-lg",spellChecker:!1,nativeSpellcheck:!1})});let o={public:!1};Oe().query.fork&&Re({load:st}).get(Oe().query.fork).then(y=>{n(2,o.title=y.title,o),n(2,o.description=y.description,o),s.value(y.content),n(2,o.topic=y.topic,o),n(2,o.public=y.public,o)});async function f(){try{n(1,a=!0),n(2,o.content=s.value(),o),n(2,o.owner=t,o);const y=rt(ee);await Re({post:Xt,waitfor:en,likes:y}).create(o),n(1,a=!1),window.scrollTo(0,0),be.goto("/notes")}catch(y){window.scrollTo(0,0),n(0,r=y.message),n(1,a=!1)}}function c(){o.title=this.value,n(2,o)}function m(){o.description=this.value,n(2,o)}function d(){o.topic=this.value,n(2,o)}function v(){o.public=this.checked,n(2,o)}function g(){a=this.checked,n(1,a)}return[r,a,o,f,c,m,d,v,g]}class Hn extends te{constructor(e){super();ne(this,e,Rn,Ln,J,{})}}function Mn(l){return{c:A,m:A,p:A,d:A}}function On(l){let e,n,t,s,r,a,o=Pt.parse(l[19].content)+"",f,c,m=l[19].public&&Dn(l),d=l[1]&&Xe(l);return{c(){m&&m.c(),e=h(),n=p("div"),t=p("button"),t.textContent="info",s=h(),d&&d.c(),r=h(),a=p("div"),i(t,"class","btn btn-outline"),i(n,"class",""),i(a,"class","mt-16 prose prose-lg bg-base-200")},m(v,g){m&&m.m(v,g),_(v,e,g),_(v,n,g),u(n,t),_(v,s,g),d&&d.m(v,g),_(v,r,g),_(v,a,g),a.innerHTML=o,f||(c=Q(t,"click",l[12]),f=!0)},p(v,g){v[19].public&&m.p(v,g),v[1]?d?d.p(v,g):(d=Xe(v),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null)},d(v){m&&m.d(v),v&&w(e),v&&w(n),v&&w(s),d&&d.d(v),v&&w(r),v&&w(a),f=!1,c()}}}function Dn(l){let e,n,t,s,r,a,o=l[19].owner===l[7]&&Ze(l);function f(d,v){return d[4]?qn:jn}let c=f(l),m=c(l);return{c(){e=p("div"),o&&o.c(),n=h(),t=p("div"),m.c(),s=h(),r=p("div"),a=Y(l[3]),i(r,"class","text-center"),i(t,"class","flex flex-col"),i(e,"class","float-right pr-8")},m(d,v){_(d,e,v),o&&o.m(e,null),u(e,n),u(e,t),m.m(t,null),u(t,s),u(t,r),u(r,a)},p(d,v){d[19].owner===d[7]?o?o.p(d,v):(o=Ze(d),o.c(),o.m(e,n)):o&&(o.d(1),o=null),c===(c=f(d))&&m?m.p(d,v):(m.d(1),m=c(d),m&&(m.c(),m.m(t,s))),v&8&&ve(a,d[3])},d(d){d&&w(e),o&&o.d(),m.d()}}}function Ze(l){let e,n;return{c(){e=p("a"),n=Y("Fork"),i(e,"class","btn btn-outline"),i(e,"href","/notes/new?fork="+l[8].params.id)},m(t,s){_(t,e,s),u(e,n)},p:A,d(t){t&&w(e)}}}function qn(l){let e,n,t,s,r;return{c(){e=p("button"),n=p("img"),i(n,"class","w-8"),Le(n.src,t="fullheart.svg")||i(n,"src",t),i(n,"alt","like button"),i(e,"class","btn btn-ghost"),e.disabled=l[6]},m(a,o){_(a,e,o),u(e,n),s||(r=Q(e,"click",l[10]),s=!0)},p(a,o){o&64&&(e.disabled=a[6])},d(a){a&&w(e),s=!1,r()}}}function jn(l){let e,n,t,s,r;return{c(){e=p("button"),n=p("img"),i(n,"class","w-8"),Le(n.src,t="heart.svg")||i(n,"src",t),i(n,"alt","like button"),i(e,"class","btn btn-ghost"),e.disabled=l[5]},m(a,o){_(a,e,o),u(e,n),s||(r=Q(e,"click",l[9]),s=!0)},p(a,o){o&32&&(e.disabled=a[5])},d(a){a&&w(e),s=!1,r()}}}function Xe(l){let e,n,t=l[19].title+"",s,r,a,o,f=l[19].description+"",c,m,d,v,g=(l[19].handle||l[19].owner)+"",y,b,$,L,S=Et(new Date(l[19].timestamp),"MM-dd-yyyy HH:mm:ss.SSSxxx")+"",j,R,I,q,N=l[8].params.id+"",K,B,C,T,W;return{c(){e=p("div"),n=p("h1"),s=Y(t),r=h(),a=p("p"),o=Y("Description: "),c=Y(f),m=h(),d=p("p"),v=Y("By: "),y=Y(g),b=h(),$=p("p"),L=Y("Created: "),j=Y(S),R=h(),I=p("p"),q=Y("Id: "),K=Y(N),B=h(),C=p("a"),T=Y("share"),i(n,"class","text-3xl"),i(a,"class",""),i(d,"class",""),i($,"class",""),i(C,"class","underline"),i(C,"target","_blank"),i(C,"href",W="https://twitter.com/intent/tweet?text="+Bn(l[19].title,l[19].description)+"&url="+window.location.href.replace("#","%23")),i(e,"class","card p-4 shadow-xl")},m(F,ie){_(F,e,ie),u(e,n),u(n,s),u(e,r),u(e,a),u(a,o),u(a,c),u(e,m),u(e,d),u(d,v),u(d,y),u(e,b),u(e,$),u($,L),u($,j),u(e,R),u(e,I),u(I,q),u(I,K),u(I,B),u(I,C),u(C,T)},p:A,d(F){F&&w(e)}}}function In(l){return{c:A,m:A,p:A,d:A}}function Wn(l){let e,n,t,s,r,a,o,f,c,m,d,v,g,y,b,$,L,S,j,R,I,q,N,K,B;e=new xe({});let C={ctx:l,current:null,token:null,hasCatch:!1,pending:In,then:On,catch:Mn,value:19};return nt(l[11](l[8].params.id),C),S=new je({props:{size:"60",color:"rebeccapurple",unit:"px",duration:"2s"}}),{c(){H(e.$$.fragment),n=h(),t=p("main"),s=p("section"),C.block.c(),r=h(),a=p("div"),o=p("figure"),f=p("img"),m=h(),d=p("input"),v=h(),g=p("div"),y=p("div"),b=p("h3"),b.textContent="Loading Note",$=h(),L=p("div"),H(S.$$.fragment),j=h(),R=p("input"),I=h(),q=p("div"),q.innerHTML=`<div class="modal-box"><h3 class="font-bold text-lg">Liking a Note</h3> 
    <p class="py-4">Thank you for wanting to like this note! Likes are small tips for the
      content creator, in order to like the note, you must have an AR Wallet,
      you can download and install an AR Wallet here:
      <a class="underline" target="_blank" href="https://arconnect.io">https://arconnect.io</a></p> 

    <div class="modal-action"><label for="like-note" class="btn">OK</label></div></div>`,i(s,"class","mt-8 text-gray-700 relative w-full px-6 py-12 bg-base-200 shadow-xl shadow-slate-700/10 ring-1 ring-gray-900/5 md:max-w-3xl md:mx-auto lg:max-w-4xl lg:pt-16 lg:pb-28"),Le(f.src,c=window.matchMedia("(prefers-color-scheme: dark)").matches?"ar-light.png":"ar-dark.png")||i(f,"src",c),i(f,"alt","permanent"),i(a,"class","absolute bottom-8 left-8"),i(d,"type","checkbox"),i(d,"id","loading-note"),i(d,"class","modal-toggle"),i(b,"class","font-bold text-lg"),i(L,"class","flex items-center justify-center"),i(y,"class","modal-box"),i(g,"class","modal"),i(R,"type","checkbox"),i(R,"id","like-note"),i(R,"class","modal-toggle"),i(q,"class","modal")},m(T,W){M(e,T,W),_(T,n,W),_(T,t,W),u(t,s),C.block.m(s,C.anchor=null),C.mount=()=>s,C.anchor=null,_(T,r,W),_(T,a,W),u(a,o),u(o,f),_(T,m,W),_(T,d,W),d.checked=l[0],_(T,v,W),_(T,g,W),u(g,y),u(y,b),u(y,$),u(y,L),M(S,L,null),_(T,j,W),_(T,R,W),R.checked=l[2],_(T,I,W),_(T,q,W),N=!0,K||(B=[Q(d,"change",l[13]),Q(R,"change",l[14])],K=!0)},p(T,[W]){l=T,lt(C,l,W),W&1&&(d.checked=l[0]),W&4&&(R.checked=l[2])},i(T){N||(k(e.$$.fragment,T),k(S.$$.fragment,T),N=!0)},o(T){x(e.$$.fragment,T),x(S.$$.fragment,T),N=!1},d(T){O(e,T),T&&w(n),T&&w(t),C.block.d(),C.token=null,C=null,T&&w(r),T&&w(a),T&&w(m),T&&w(d),T&&w(v),T&&w(g),O(S),T&&w(j),T&&w(R),T&&w(I),T&&w(q),K=!1,He(B)}}}function Bn(...l){return encodeURI(l.join(" "))}function Un(l,e,n){let t;me(l,_e,q=>n(7,t=q));let s=!1,r=!1,a=!1,o="";const f=rt(ee),c=Re({load:st,account:qe,likes:f}),m=Oe();let d=0,v=!1,g=!1,y=!1,b="";async function $(q){if(!window.arweaveWallet){n(2,a=!0);return}n(5,g=!0),await c.like(o,b),n(4,v=!0),n(3,d=d+1)}async function L(q){n(6,y=!0),await c.unlike(o,b),n(4,v=!1),n(3,d=d-1)}async function S(q){try{n(0,s=!0);const N=await c.get(q);return n(3,d=N.public?N.likes.length:0),o=N.public?N.likeContract:"",n(4,v=t&&N.public?N.likes.includes(t):!1),N.handle=await c.getHandle(N.owner),b=N.owner,n(0,s=!1),N}catch(N){console.log(N.message),be.goto("/404")}}const j=()=>n(1,r=!r);function R(){s=this.checked,n(0,s)}function I(){a=this.checked,n(2,a)}return[s,r,a,d,v,g,y,t,m,$,L,S,j,R,I]}class Kn extends te{constructor(e){super();ne(this,e,Un,Wn,J,{})}}function Yn(l){let e,n,t,s;return e=new xe({}),{c(){H(e.$$.fragment),n=h(),t=p("main"),t.innerHTML=`<section class="hero-content flex-col"><h1 class="text-6xl">404</h1> 
    <p>Note not found!</p></section>`,i(t,"class","hero max-h-screen bg-base-100")},m(r,a){M(e,r,a),_(r,n,a),_(r,t,a),s=!0},p:A,i(r){s||(k(e.$$.fragment,r),s=!0)},o(r){x(e.$$.fragment,r),s=!1},d(r){O(e,r),r&&w(n),r&&w(t)}}}class Fn extends te{constructor(e){super();ne(this,e,null,Yn,J,{})}}function Qn(l){let e,n;return e=new Wt({}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Vn(l){let e,n;return e=new Qt({}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Jn(l){let e,n;return e=new Me({}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function zn(l){let e,n;return e=new Me({}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Zn(l){let e,n;return e=new Hn({}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function Xn(l){let e,n,t,s,r;const a=[Zn,zn],o=[];function f(c,m){return m&1&&(e=null),e==null&&(e=!!c[1](c[2](c[0]))),e?0:1}return n=f(l,-1),t=o[n]=a[n](l),{c(){t.c(),s=Ee()},m(c,m){o[n].m(c,m),_(c,s,m),r=!0},p(c,m){let d=n;n=f(c,m),n!==d&&(Ne(),x(o[d],1,1,()=>{o[d]=null}),Se(),t=o[n],t||(t=o[n]=a[n](c),t.c()),k(t,1),t.m(s.parentNode,s))},i(c){r||(k(t),r=!0)},o(c){x(t),r=!1},d(c){o[n].d(c),c&&w(s)}}}function Gn(l){let e,n;return e=new Kn({}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function el(l){let e,n;return e=new Me({}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function tl(l){let e,n;return e=new kn({}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function nl(l){let e,n,t,s,r;const a=[tl,el],o=[];function f(c,m){return m&1&&(e=null),e==null&&(e=!!c[1](c[2](c[0]))),e?0:1}return n=f(l,-1),t=o[n]=a[n](l),{c(){t.c(),s=Ee()},m(c,m){o[n].m(c,m),_(c,s,m),r=!0},p(c,m){let d=n;n=f(c,m),n!==d&&(Ne(),x(o[d],1,1,()=>{o[d]=null}),Se(),t=o[n],t||(t=o[n]=a[n](c),t.c()),k(t,1),t.m(s.parentNode,s))},i(c){r||(k(t),r=!0)},o(c){x(t),r=!1},d(c){o[n].d(c),c&&w(s)}}}function ll(l){let e,n,t,s,r,a;return e=new ae({props:{path:"/new",$$slots:{default:[Xn]},$$scope:{ctx:l}}}),t=new ae({props:{path:"/:id",$$slots:{default:[Gn]},$$scope:{ctx:l}}}),r=new ae({props:{fallback:!0,$$slots:{default:[nl]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment),n=h(),H(t.$$.fragment),s=h(),H(r.$$.fragment)},m(o,f){M(e,o,f),_(o,n,f),M(t,o,f),_(o,s,f),M(r,o,f),a=!0},p(o,f){const c={};f&9&&(c.$$scope={dirty:f,ctx:o}),e.$set(c);const m={};f&8&&(m.$$scope={dirty:f,ctx:o}),t.$set(m);const d={};f&9&&(d.$$scope={dirty:f,ctx:o}),r.$set(d)},i(o){a||(k(e.$$.fragment,o),k(t.$$.fragment,o),k(r.$$.fragment,o),a=!0)},o(o){x(e.$$.fragment,o),x(t.$$.fragment,o),x(r.$$.fragment,o),a=!1},d(o){O(e,o),o&&w(n),O(t,o),o&&w(s),O(r,o)}}}function sl(l){let e;return{c(){e=p("p"),e.textContent="TODO"},m(n,t){_(n,e,t)},d(n){n&&w(e)}}}function rl(l){let e,n;return e=new Me({}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function ol(l){let e,n;return e=new Nn({}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function al(l){let e,n,t,s,r;const a=[ol,rl],o=[];function f(c,m){return m&1&&(e=null),e==null&&(e=!!c[1](c[2](c[0]))),e?0:1}return n=f(l,-1),t=o[n]=a[n](l),{c(){t.c(),s=Ee()},m(c,m){o[n].m(c,m),_(c,s,m),r=!0},p(c,m){let d=n;n=f(c,m),n!==d&&(Ne(),x(o[d],1,1,()=>{o[d]=null}),Se(),t=o[n],t||(t=o[n]=a[n](c),t.c()),k(t,1),t.m(s.parentNode,s))},i(c){r||(k(t),r=!0)},o(c){x(t),r=!1},d(c){o[n].d(c),c&&w(s)}}}function il(l){let e,n;return e=new Fn({}),{c(){H(e.$$.fragment)},m(t,s){M(e,t,s),n=!0},i(t){n||(k(e.$$.fragment,t),n=!0)},o(t){x(e.$$.fragment,t),n=!1},d(t){O(e,t)}}}function cl(l){let e,n,t,s,r,a,o,f,c,m,d,v,g,y;return e=new ae({props:{path:"/",$$slots:{default:[Qn]},$$scope:{ctx:l}}}),t=new ae({props:{path:"/learn",$$slots:{default:[Vn]},$$scope:{ctx:l}}}),r=new ae({props:{path:"/connect",$$slots:{default:[Jn]},$$scope:{ctx:l}}}),o=new ae({props:{path:"/notes/*",firstmatch:!0,$$slots:{default:[ll]},$$scope:{ctx:l}}}),c=new ae({props:{path:"/notes/:id/edit",$$slots:{default:[sl]},$$scope:{ctx:l}}}),d=new ae({props:{path:"/account",$$slots:{default:[al]},$$scope:{ctx:l}}}),g=new ae({props:{path:"/404",$$slots:{default:[il]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment),n=h(),H(t.$$.fragment),s=h(),H(r.$$.fragment),a=h(),H(o.$$.fragment),f=h(),H(c.$$.fragment),m=h(),H(d.$$.fragment),v=h(),H(g.$$.fragment)},m(b,$){M(e,b,$),_(b,n,$),M(t,b,$),_(b,s,$),M(r,b,$),_(b,a,$),M(o,b,$),_(b,f,$),M(c,b,$),_(b,m,$),M(d,b,$),_(b,v,$),M(g,b,$),y=!0},p(b,$){const L={};$&8&&(L.$$scope={dirty:$,ctx:b}),e.$set(L);const S={};$&8&&(S.$$scope={dirty:$,ctx:b}),t.$set(S);const j={};$&8&&(j.$$scope={dirty:$,ctx:b}),r.$set(j);const R={};$&9&&(R.$$scope={dirty:$,ctx:b}),o.$set(R);const I={};$&8&&(I.$$scope={dirty:$,ctx:b}),c.$set(I);const q={};$&9&&(q.$$scope={dirty:$,ctx:b}),d.$set(q);const N={};$&8&&(N.$$scope={dirty:$,ctx:b}),g.$set(N)},i(b){y||(k(e.$$.fragment,b),k(t.$$.fragment,b),k(r.$$.fragment,b),k(o.$$.fragment,b),k(c.$$.fragment,b),k(d.$$.fragment,b),k(g.$$.fragment,b),y=!0)},o(b){x(e.$$.fragment,b),x(t.$$.fragment,b),x(r.$$.fragment,b),x(o.$$.fragment,b),x(c.$$.fragment,b),x(d.$$.fragment,b),x(g.$$.fragment,b),y=!1},d(b){O(e,b),b&&w(n),O(t,b),b&&w(s),O(r,b),b&&w(a),O(o,b),b&&w(f),O(c,b),b&&w(m),O(d,b),b&&w(v),O(g,b)}}}function ul(l){let e,n,t,s;return e=new Ot({}),t=new jt({props:{$$slots:{default:[cl]},$$scope:{ctx:l}}}),{c(){H(e.$$.fragment),n=h(),H(t.$$.fragment)},m(r,a){M(e,r,a),_(r,n,a),M(t,r,a),s=!0},p(r,[a]){const o={};a&9&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){s||(k(e.$$.fragment,r),k(t.$$.fragment,r),s=!0)},o(r){x(e.$$.fragment,r),x(t.$$.fragment,r),s=!1},d(r){O(e,r),r&&w(n),O(t,r)}}}function fl(l,e,n){let t;me(l,_e,a=>n(0,t=a));const{not:s,isEmpty:r}=Lt;return be.mode.hash(),be.subscribe(a=>window.scrollTo(0,0)),[t,s,r]}class pl extends te{constructor(e){super();ne(this,e,fl,ul,J,{})}}new pl({target:document.getElementById("app")});
